<!DOCTYPE html>
<html lang="zh-Hant-TW">
  <head>
    <meta name="generator" content="Hugo 0.40.2" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reading HackingVim 7.2 | After Dark</title>
    <meta name="description" content="Hacking Vim 7.2 reading.">
    <meta name="keywords" content="reading, vim">
    
    
    
    
    

  <meta name="author" content="Nero">


    <meta property="og:title" content="Reading HackingVim 7.2" />
<meta property="og:description" content="Hacking Vim 7.2 reading." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://magicsword.github.io/post/reading-hackingvim72/" />

  <meta property="og:image" content="https://source.unsplash.com/category/technology/1600x900" />



<meta property="article:published_time" content="2018-03-24T01:00:23&#43;08:00"/>

<meta property="article:modified_time" content="2018-03-24T01:00:23&#43;08:00"/>











    <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://source.unsplash.com/category/technology/1600x900"/>

<meta name="twitter:title" content="Reading HackingVim 7.2"/>
<meta name="twitter:description" content="Hacking Vim 7.2 reading."/>

    




    <meta name="theme-color" content="#000">

    
    
    
    <link rel="canonical" href="https://magicsword.github.io/post/reading-hackingvim72/">
    
    
    

<Link rel="icon" type="image/png" href="/favicon-M-256.png" sizes="256x256">

    <style>
  html{font-size:12px}*{box-sizing:border-box;text-rendering:geometricPrecision}body{font-size:1rem;line-height:1.5rem;margin:0;font-family:Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace,serif;word-wrap:break-word}h1,h2,h3,h4,h5,h6{line-height:1.3em}fieldset{border:none;padding:0;margin:0}pre{padding:2rem;margin:1.75rem 0;background-color:#fff;border:1px solid #ccc;overflow:auto}code[class*=language-],pre[class*=language-],pre code{font-weight:100;text-shadow:none;margin:1.75rem 0}a{cursor:pointer;color:#ff2e88;text-decoration:none;border-bottom:1px solid #ff2e88}a:hover{background-color:#ff2e88;color:#fff}.grid{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.grid.\-top{-ms-flex-align:start;-ms-grid-row-align:flex-start;align-items:flex-start}.grid.\-middle{-ms-flex-align:center;-ms-grid-row-align:center;align-items:center}.grid.\-bottom{-ms-flex-align:end;-ms-grid-row-align:flex-end;align-items:flex-end}.grid.\-stretch{-ms-flex-align:stretch;-ms-grid-row-align:stretch;align-items:stretch}.grid.\-baseline{-ms-flex-align:baseline;-ms-grid-row-align:baseline;align-items:baseline}.grid.\-left{-ms-flex-pack:start;justify-content:flex-start}.grid.\-center{-ms-flex-pack:center;justify-content:center}.grid.\-right{-ms-flex-pack:end;justify-content:flex-end}.grid.\-between{-ms-flex-pack:justify;justify-content:space-between}.grid.\-around{-ms-flex-pack:distribute;justify-content:space-around}.cell{-ms-flex:1;flex:1;box-sizing:border-box}@media screen and (min-width:768px){.cell.\-1of12{-ms-flex:0 0 8.33333%;flex:0 0 8.33333%}.cell.\-2of12{-ms-flex:0 0 16.66667%;flex:0 0 16.66667%}.cell.\-3of12{-ms-flex:0 0 25%;flex:0 0 25%}.cell.\-4of12{-ms-flex:0 0 33.33333%;flex:0 0 33.33333%}.cell.\-5of12{-ms-flex:0 0 41.66667%;flex:0 0 41.66667%}.cell.\-6of12{-ms-flex:0 0 50%;flex:0 0 50%}.cell.\-7of12{-ms-flex:0 0 58.33333%;flex:0 0 58.33333%}.cell.\-8of12{-ms-flex:0 0 66.66667%;flex:0 0 66.66667%}.cell.\-9of12{-ms-flex:0 0 75%;flex:0 0 75%}.cell.\-10of12{-ms-flex:0 0 83.33333%;flex:0 0 83.33333%}.cell.\-11of12{-ms-flex:0 0 91.66667%;flex:0 0 91.66667%}}@media screen and (max-width:768px){.grid{-ms-flex-direction:column;flex-direction:column}.cell{-ms-flex:0 0 auto;flex:0 0 auto}}.hack,.hack blockquote,.hack code,.hack em,.hack h1,.hack h2,.hack h3,.hack h4,.hack h5,.hack h6,.hack strong{font-size:1rem;font-style:normal;font-family:Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace,serif}.hack blockquote,.hack code,.hack em,.hack strong{line-height:20px}.hack blockquote,.hack code,.hack footer,.hack h1,.hack h2,.hack h3,.hack h4,.hack h5,.hack h6,.hack header,.hack li,.hack ol,.hack p,.hack section,.hack ul{float:none;margin:0;padding:0}.hack blockquote,.hack h1,.hack ol,.hack p,.hack ul{margin-top:20px;margin-bottom:20px}.hack h1{position:relative;display:inline-block;display:table-cell;padding:20px 0 30px;margin:0;overflow:hidden}.hack h1:after{content:"====================================================================================================";position:absolute;bottom:10px;left:0}.hack h1+*{margin-top:0}.hack h2,.hack h3,.hack h4,.hack h5,.hack h6{position:relative;margin-bottom:1.75rem}.hack h2:before,.hack h3:before,.hack h4:before,.hack h5:before,.hack h6:before{display:inline}.hack h2:before{content:"## "}.hack h3:before{content:"### "}.hack h4:before{content:"#### "}.hack h5:before{content:"##### "}.hack h6:before{content:"###### "}.hack li{position:relative;display:block;padding-left:20px}.hack li:after{position:absolute;top:0;left:0}.hack ul>li:after{content:"-"}.hack ol{counter-reset:a}.hack ol>li:after{content:counter(a) ".";counter-increment:a}.hack blockquote{position:relative;padding-left:17px;padding-left:2ch;overflow:hidden}.hack blockquote:after{content:">\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>";white-space:pre;position:absolute;top:0;left:0;line-height:20px}.hack em:after,.hack em:before{content:"*";display:inline}.hack pre code:after,.hack pre code:before{content:''}.hack code{font-weight:700}.hack code:after,.hack code:before{content:"`";display:inline}.hack hr{position:relative;height:20px;overflow:hidden;border:0;margin:20px 0}.hack hr:after{content:"----------------------------------------------------------------------------------------------------";position:absolute;top:0;left:0;line-height:20px;width:100%;word-wrap:break-word}@-moz-document url-prefix(){.hack h1{display:block}}.hack-ones ol>li:after{content:"1."}p{margin:0 0 1.75rem}.container{max-width:70rem}.container,.container-fluid{margin:0 auto;padding:0 1rem}.inner{padding:1rem}.inner2x{padding:2rem}.pull-left{float:left}.pull-right{float:right}.progress-bar{height:8px;opacity:.8;background-color:#ccc;margin-top:12px}.progress-bar.progress-bar-show-percent{margin-top:38px}.progress-bar-filled{background-color:gray;height:100%;transition:width .3s ease;position:relative;width:0}.progress-bar-filled:before{content:'';border:6px solid transparent;border-top-color:gray;position:absolute;top:-12px;right:-6px}.progress-bar-filled:after{color:gray;content:attr(data-filled);display:block;font-size:12px;white-space:nowrap;position:absolute;border:6px solid transparent;top:-38px;right:0;-ms-transform:translateX(50%);transform:translateX(50%)}table{width:100%;border-collapse:collapse;margin:1.75rem 0;color:#778087}table td,table th{vertical-align:top;border:1px solid #ccc;line-height:15px;padding:10px}table thead th{font-size:10px}table tbody td:first-child{font-weight:700;color:#333}.form{width:30rem}.form-group{margin-bottom:1.75rem;overflow:auto}.form-group label{border-bottom:2px solid #ccc;color:#333;width:10rem;display:inline-block;height:38px;line-height:38px;padding:0;float:left;position:relative}.form-group.form-success label{color:#4caf50!important;border-color:#4caf50!important}.form-group.form-warning label{color:#ff9800!important;border-color:#ff9800!important}.form-group.form-error label{color:#f44336!important;border-color:#f44336!important}.form-control{outline:none;border:none;border-bottom:2px solid #ccc;padding:.5rem 0;width:20rem;height:38px;background-color:transparent}.form-control:focus{border-color:#555}.form-group.form-textarea label:after{position:absolute;content:'';width:2px;background-color:#fff;right:-2px;top:0;bottom:0}textarea.form-control{height:auto;resize:none;padding:1rem 0;border-bottom:2px solid #ccc;border-left:2px solid #ccc;padding:.5rem}select.form-control{border-radius:0;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none}.help-block{color:#999;margin-top:.5rem}.form-actions{margin-bottom:1.75rem}.btn{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;outline:none;padding:.65rem 2rem;font-size:1rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;z-index:1}.btn:active{box-shadow:inset 0 1px 3px rgba(0,0,0,.12)}.btn.btn-ghost{border-color:#757575;color:#757575;background-color:transparent}.btn.btn-ghost:focus,.btn.btn-ghost:hover{border-color:#424242;color:#424242;z-index:2}.btn.btn-ghost:hover{background-color:transparent}.btn-block{width:100%;display:-ms-flexbox;display:flex}.btn-default{color:#fff;background-color:#e0e0e0;border:1px solid #e0e0e0;color:#333}.btn-default:focus:not(.btn-ghost),.btn-default:hover{background-color:#dcdcdc;border-color:#dcdcdc}.btn-success{color:#fff;background-color:#4caf50;border:1px solid #4caf50}.btn-success:focus:not(.btn-ghost),.btn-success:hover{background-color:#43a047;border-color:#43a047}.btn-success.btn-ghost{border-color:#4caf50;color:#4caf50}.btn-success.btn-ghost:focus,.btn-success.btn-ghost:hover{border-color:#388e3c;color:#388e3c;z-index:2}.btn-error{color:#fff;background-color:#f44336;border:1px solid #f44336}.btn-error:focus:not(.btn-ghost),.btn-error:hover{background-color:#e53935;border-color:#e53935}.btn-error.btn-ghost{border-color:#f44336;color:#f44336}.btn-error.btn-ghost:focus,.btn-error.btn-ghost:hover{border-color:#d32f2f;color:#d32f2f;z-index:2}.btn-warning{color:#fff;background-color:#ff9800;border:1px solid #ff9800}.btn-warning:focus:not(.btn-ghost),.btn-warning:hover{background-color:#fb8c00;border-color:#fb8c00}.btn-warning.btn-ghost{border-color:#ff9800;color:#ff9800}.btn-warning.btn-ghost:focus,.btn-warning.btn-ghost:hover{border-color:#f57c00;color:#f57c00;z-index:2}.btn-info{color:#fff;background-color:#00bcd4;border:1px solid #00bcd4}.btn-info:focus:not(.btn-ghost),.btn-info:hover{background-color:#00acc1;border-color:#00acc1}.btn-info.btn-ghost{border-color:#00bcd4;color:#00bcd4}.btn-info.btn-ghost:focus,.btn-info.btn-ghost:hover{border-color:#0097a7;color:#0097a7;z-index:2}.btn-primary{color:#fff;background-color:#2196f3;border:1px solid #2196f3}.btn-primary:focus:not(.btn-ghost),.btn-primary:hover{background-color:#1e88e5;border-color:#1e88e5}.btn-primary.btn-ghost{border-color:#2196f3;color:#2196f3}.btn-primary.btn-ghost:focus,.btn-primary.btn-ghost:hover{border-color:#1976d2;color:#1976d2;z-index:2}.btn-group{overflow:auto}.btn-group .btn{float:left}.btn-group .btn-ghost:not(:first-child){margin-left:-1px}.card{border:1px solid #ccc}.card .card-header{color:#333;text-align:center;background-color:#ddd;padding:.5rem 0}.alert{color:#ccc;padding:1rem;border:1px solid #ccc;margin-bottom:1.75rem}.alert-success{color:#4caf50;border-color:#4caf50}.alert-error{color:#f44336;border-color:#f44336}.alert-info{color:#00bcd4;border-color:#00bcd4}.alert-warning{color:#ff9800;border-color:#ff9800}.media:not(:last-child){margin-bottom:1.25rem}.media-left{padding-right:1rem}.media-left,.media-right{display:table-cell;vertical-align:top}.media-right{padding-left:1rem}.media-body{display:table-cell;vertical-align:top}.media-heading{font-size:1.16667rem;font-weight:700}.media-content{margin-top:.3rem}.avatarholder,.placeholder{background-color:#f0f0f0;text-align:center;color:#b9b9b9;font-size:1rem;border:1px solid #f0f0f0}.avatarholder{width:48px;height:48px;line-height:46px;font-size:2rem;background-size:cover;background-position:50%;background-repeat:no-repeat}.avatarholder.rounded{border-radius:33px}.loading{display:inline-block;content:'&nbsp;';height:20px;width:20px;margin:0 .5rem;animation:a .6s infinite linear;border:2px solid #e91e63;border-right-color:transparent;border-radius:50%}.btn .loading{margin-bottom:0;width:14px;height:14px}.btn div.loading{float:left}.alert .loading{margin-bottom:-5px}@keyframes a{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.menu{width:100%}.menu .menu-item{display:block;color:#616161;border-color:#616161}.menu .menu-item.active,.menu .menu-item:hover{color:#000;border-color:#000;background-color:transparent}@media screen and (max-width:768px){.form-group label{display:block;border-bottom:none;width:100%}.form-group.form-textarea label:after{display:none}.form-control{width:100%}textarea.form-control{border-left:none;padding:.5rem 0}pre::-webkit-scrollbar{height:3px}}@media screen and (max-width:480px){.form{width:100%}}.dark{color:#ccc}.dark,.dark pre{background-color:#000}.dark pre{padding:0;border:none}.dark pre code{color:#00bcd4}.dark h1 a,.dark h2 a,.dark h3 a,.dark h4 a,.dark h5 a{color:#ccc}.dark code,.dark strong{color:#fff}.dark code{font-weight:100}.dark table{color:#ccc}.dark table td,.dark table th{border-color:#444}.dark table tbody td:first-child{color:#fff}.dark .form-group label{color:#ccc;border-color:rgba(95,95,95,.78)}.dark .form-group.form-textarea label:after{background-color:#000}.dark .form-control{color:#ccc;border-color:rgba(95,95,95,.78)}.dark .form-control:focus{border-color:#ccc;color:#ccc}.dark textarea.form-control{color:#ccc}.dark .card{border-color:rgba(95,95,95,.78)}.dark .card .card-header{background-color:transparent;color:#ccc;border-bottom:1px solid rgba(95,95,95,.78)}.dark .btn.btn-ghost.btn-default{border-color:#ababab;color:#ababab}.dark .btn.btn-ghost.btn-default:focus,.dark .btn.btn-ghost.btn-default:hover{border-color:#9c9c9c;color:#9c9c9c;z-index:1}.dark .btn.btn-ghost.btn-default:focus,.dark .btn.btn-ghost.btn-default:hover{border-color:#e0e0e0;color:#e0e0e0}.dark .btn.btn-ghost.btn-primary:focus,.dark .btn.btn-ghost.btn-primary:hover{border-color:#64b5f6;color:#64b5f6}.dark .btn.btn-ghost.btn-success:focus,.dark .btn.btn-ghost.btn-success:hover{border-color:#81c784;color:#81c784}.dark .btn.btn-ghost.btn-info:focus,.dark .btn.btn-ghost.btn-info:hover{border-color:#4dd0e1;color:#4dd0e1}.dark .btn.btn-ghost.btn-error:focus,.dark .btn.btn-ghost.btn-error:hover{border-color:#e57373;color:#e57373}.dark .btn.btn-ghost.btn-warning:focus,.dark .btn.btn-ghost.btn-warning:hover{border-color:#ffb74d;color:#ffb74d}.dark .avatarholder,.dark .placeholder{background-color:transparent;border-color:#333}.dark .menu .menu-item{color:#ccc;border-color:rgba(95,95,95,.78)}.dark .menu .menu-item.active,.dark .menu .menu-item:hover{color:#fff;border-color:#ccc}
  :root {
  --screen-size-small: 30em; /* breakpoint reference only */
}
@keyframes intro {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}
.blur-up {
  -webkit-filter: blur(5px);
  filter: blur(5px);
  transition: filter 400ms, -webkit-filter 400ms;
}
.blur-up.lazyloaded {
  -webkit-filter: blur(0);
  filter: blur(0);
}
.muted {
  color: #e0e0e070;
}
.hack .readmore {
  margin-bottom: 2.2em;
}
.responsive-iframe {
  position: relative;
  padding-bottom: 56.25%; /* 16:9 */
  padding-top: 25px;
  height: 0;
}
.responsive-iframe iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
iframe {
  border: 0;
}
main, footer {
  animation: intro 0.3s both;
  animation-delay: 0.15s;
}
footer time[datetime$="M"]:before {
  content: "\2013\0020";
}
@media only screen
  and ( max-width: 30em ) {
  footer time[datetime$="M"] {
    display: none;
  }
}
blockquote cite {
  display: block;
}
blockquote cite::before {
   content: "\2014";
}
:target {
  color: #fff;
}
/* hack.css overrides and enhancements */
.hack li ul {
  margin: 0;
}
.main {
  padding: 20px 10px;
}
nav a.active {
  background-color: #ff2e88;
  color: #fff;
}
a[itemprop="url"] {
  color: #ff9800;
}
a[itemprop="url"]:hover {
  color: #fff;
}
a[href*="://"]::after,
a[rel*="external"] {
  content: " " url("data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20class='i-external'%20viewBox='0%200%2032%2032'%20width='14'%20height='14'%20fill='none'%20stroke='%23ff9800'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='9.38%'%3E%3Cpath%20d='M14%209%20L3%209%203%2029%2023%2029%2023%2018%20M18%204%20L28%204%2028%2014%20M28%204%20L14%2018'/%3E%3C/svg%3E");
}
figure a[href*="://"]::after,
figure a[rel*="external"] {
  content: "";
}
html {
  font-size: 13px;
}
.hack pre {
  font-size: 17px;
}
article [itemprop="description"] {
  margin-bottom: 20px;
  margin-top: 20px;
}
article header img {
  width: 100%;
  border-radius: 3px;
}
@media screen and (min-width: 768px) {
  html {
    font-size: 1em;
  }
  .container {
    max-width: 50rem;
  }
}

  /* override theme defaults */
.muted {
  color: rgba(255, 255, 255, 0.5);
}
/* custom styles */
figure {
  margin-left: auto;
  margin-right: auto;
  text-align: center;
}
figure img {
  max-width: 80%;
}
figure a {
  border-bottom: none !important;
}
figure a:hover {
  background-color: inherit !important;
}

  html{font-size:14px}.standard{font-family:-apple-system,BlinkMacSystemFont,avenir next,avenir,helvetica,helvetica neue,Ubuntu,segoe ui,arial,sans-serif}.standard h1{font-size:2em;font-weight:700;margin:.67em 0}.standard h2{font-size:1.5em;font-weight:700;margin:.83em 0}.standard h3{font-size:1.17em;font-weight:700}.standard h3,.standard p{margin:1.75rem 0}.standard ol,.standard ul{display:block;list-style-type:disc;padding-left:20px;margin:1.75rem 0}.standard ol ul,.standard ul ul{margin:.75rem 0;list-style-type:square}.standard ol{list-style-type:decimal}.standard li{display:list-item;padding-left:0}.standard blockquote{margin:1.75rem 0;padding-left:10px;border-left:5px solid #f0f0f0}.standard pre{margin:1.75rem 0;white-space:pre}.standard hr{border:0;height:1px;display:block;background-color:#e2e2e2;margin:1.75rem 0}
  .dark{color:#ccc}.dark,.dark pre{background-color:#000}.dark pre{padding:0;border:none}.dark pre code{color:#00bcd4}.dark h1 a,.dark h2 a,.dark h3 a,.dark h4 a,.dark h5 a{color:#ccc}.dark code,.dark strong{color:#fff}.dark code{font-weight:100}.dark table{color:#ccc}.dark table td,.dark table th{border-color:#444}.dark table tbody td:first-child{color:#fff}.dark .form-group label{color:#ccc;border-color:rgba(95,95,95,.78)}.dark .form-group.form-textarea label:after{background-color:#000}.dark .form-control{color:#ccc;border-color:rgba(95,95,95,.78)}.dark .form-control:focus{border-color:#ccc;color:#ccc}.dark textarea.form-control{color:#ccc}.dark .card{border-color:rgba(95,95,95,.78)}.dark .card .card-header{background-color:transparent;color:#ccc;border-bottom:1px solid rgba(95,95,95,.78)}.dark .btn.btn-ghost.btn-default{border-color:#ababab;color:#ababab}.dark .btn.btn-ghost.btn-default:focus,.dark .btn.btn-ghost.btn-default:hover{border-color:#9c9c9c;color:#9c9c9c;z-index:1}.dark .btn.btn-ghost.btn-default:focus,.dark .btn.btn-ghost.btn-default:hover{border-color:#e0e0e0;color:#e0e0e0}.dark .btn.btn-ghost.btn-primary:focus,.dark .btn.btn-ghost.btn-primary:hover{border-color:#64b5f6;color:#64b5f6}.dark .btn.btn-ghost.btn-success:focus,.dark .btn.btn-ghost.btn-success:hover{border-color:#81c784;color:#81c784}.dark .btn.btn-ghost.btn-info:focus,.dark .btn.btn-ghost.btn-info:hover{border-color:#4dd0e1;color:#4dd0e1}.dark .btn.btn-ghost.btn-error:focus,.dark .btn.btn-ghost.btn-error:hover{border-color:#e57373;color:#e57373}.dark .btn.btn-ghost.btn-warning:focus,.dark .btn.btn-ghost.btn-warning:hover{border-color:#ffb74d;color:#ffb74d}.dark .avatarholder,.dark .placeholder{background-color:transparent;border-color:#333}.dark .menu .menu-item{color:#ccc;border-color:rgba(95,95,95,.78)}.dark .menu .menu-item.active,.dark .menu .menu-item:hover{color:#fff;border-color:#ccc}
  .dark-grey{background-color:#181818;color:#ccc}.dark-grey pre{background-color:#181818;padding:0;border:none}.dark-grey pre code{color:#00bcd4}.dark-grey h1 a,.dark-grey h2 a,.dark-grey h3 a,.dark-grey h4 a,.dark-grey h5 a{color:#ccc}.dark-grey code,.dark-grey strong{color:#fff}.dark-grey code{font-weight:100}.dark-grey table{color:#ccc}.dark-grey table td,.dark-grey table th{border-color:#444}.dark-grey table tbody td:first-child{color:#fff}.dark-grey .form-group label{color:#ccc;border-color:rgba(95,95,95,.78)}.dark-grey .form-group.form-textarea label:after{background-color:#181818}.dark-grey .form-control{color:#ccc;border-color:rgba(95,95,95,.78)}.dark-grey .form-control:focus{border-color:#ccc;color:#ccc}.dark-grey textarea.form-control{color:#ccc}.dark-grey .card{border-color:rgba(95,95,95,.78)}.dark-grey .card .card-header{background-color:transparent;color:#ccc;border-bottom:1px solid rgba(95,95,95,.78)}.dark-grey .btn.btn-ghost.btn-default{border-color:#ababab;color:#ababab}.dark-grey .btn.btn-ghost.btn-default:focus,.dark-grey .btn.btn-ghost.btn-default:hover{border-color:#9c9c9c;color:#9c9c9c;z-index:1}.dark-grey .btn.btn-ghost.btn-default:focus,.dark-grey .btn.btn-ghost.btn-default:hover{border-color:#e0e0e0;color:#e0e0e0}.dark-grey .btn.btn-ghost.btn-primary:focus,.dark-grey .btn.btn-ghost.btn-primary:hover{border-color:#64b5f6;color:#64b5f6}.dark-grey .btn.btn-ghost.btn-success:focus,.dark-grey .btn.btn-ghost.btn-success:hover{border-color:#81c784;color:#81c784}.dark-grey .btn.btn-ghost.btn-info:focus,.dark-grey .btn.btn-ghost.btn-info:hover{border-color:#4dd0e1;color:#4dd0e1}.dark-grey .btn.btn-ghost.btn-error:focus,.dark-grey .btn.btn-ghost.btn-error:hover{border-color:#e57373;color:#e57373}.dark-grey .btn.btn-ghost.btn-warning:focus,.dark-grey .btn.btn-ghost.btn-warning:hover{border-color:#ffb74d;color:#ffb74d}.dark-grey .avatarholder,.dark-grey .placeholder{background-color:transparent;border-color:#333}.dark-grey .menu .menu-item{color:#ccc;border-color:rgba(95,95,95,.78)}.dark-grey .menu .menu-item.active,.dark-grey .menu .menu-item:hover{color:#fff;border-color:#ccc}
  html{font-size:12px}*{box-sizing:border-box;text-rendering:geometricPrecision}body{font-size:1rem;line-height:1.5rem;margin:0;font-family:Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace,serif;word-wrap:break-word}h1,h2,h3,h4,h5,h6{line-height:1.3em}fieldset{border:none;padding:0;margin:0}pre{padding:2rem;margin:1.75rem 0;background-color:#fff;border:1px solid #ccc;overflow:auto}code[class*=language-],pre[class*=language-],pre code{font-weight:100;text-shadow:none;margin:1.75rem 0}a{cursor:pointer;color:#ff2e88;text-decoration:none;border-bottom:1px solid #ff2e88}a:hover{background-color:#ff2e88;color:#fff}.grid{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.grid.\-top{-ms-flex-align:start;align-items:flex-start}.grid.\-middle{-ms-flex-align:center;align-items:center}.grid.\-bottom{-ms-flex-align:end;align-items:flex-end}.grid.\-stretch{-ms-flex-align:stretch;align-items:stretch}.grid.\-baseline{-ms-flex-align:baseline;align-items:baseline}.grid.\-left{-ms-flex-pack:start;justify-content:flex-start}.grid.\-center{-ms-flex-pack:center;justify-content:center}.grid.\-right{-ms-flex-pack:end;justify-content:flex-end}.grid.\-between{-ms-flex-pack:justify;justify-content:space-between}.grid.\-around{-ms-flex-pack:distribute;justify-content:space-around}.cell{-ms-flex:1;flex:1;box-sizing:border-box}@media screen and (min-width:768px){.cell.\-1of12{-ms-flex:0 0 8.33333%;flex:0 0 8.33333%}.cell.\-2of12{-ms-flex:0 0 16.66667%;flex:0 0 16.66667%}.cell.\-3of12{-ms-flex:0 0 25%;flex:0 0 25%}.cell.\-4of12{-ms-flex:0 0 33.33333%;flex:0 0 33.33333%}.cell.\-5of12{-ms-flex:0 0 41.66667%;flex:0 0 41.66667%}.cell.\-6of12{-ms-flex:0 0 50%;flex:0 0 50%}.cell.\-7of12{-ms-flex:0 0 58.33333%;flex:0 0 58.33333%}.cell.\-8of12{-ms-flex:0 0 66.66667%;flex:0 0 66.66667%}.cell.\-9of12{-ms-flex:0 0 75%;flex:0 0 75%}.cell.\-10of12{-ms-flex:0 0 83.33333%;flex:0 0 83.33333%}.cell.\-11of12{-ms-flex:0 0 91.66667%;flex:0 0 91.66667%}}@media screen and (max-width:768px){.grid{-ms-flex-direction:column;flex-direction:column}.cell{-ms-flex:0 0 auto;flex:0 0 auto}}.hack,.hack blockquote,.hack code,.hack em,.hack h1,.hack h2,.hack h3,.hack h4,.hack h5,.hack h6,.hack strong{font-size:1rem;font-style:normal;font-family:Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace,serif}.hack blockquote,.hack code,.hack em,.hack strong{line-height:20px}.hack blockquote,.hack code,.hack footer,.hack h1,.hack h2,.hack h3,.hack h4,.hack h5,.hack h6,.hack header,.hack li,.hack ol,.hack p,.hack section,.hack ul{float:none;margin:0;padding:0}.hack blockquote,.hack h1,.hack ol,.hack p,.hack ul{margin-top:20px;margin-bottom:20px}.hack h1{position:relative;display:inline-block;display:table-cell;padding:20px 0 30px;margin:0;overflow:hidden}.hack h1:after{content:"====================================================================================================";position:absolute;bottom:10px;left:0}.hack h1+*{margin-top:0}.hack h2,.hack h3,.hack h4,.hack h5,.hack h6{position:relative;margin-bottom:1.75rem}.hack h2:before,.hack h3:before,.hack h4:before,.hack h5:before,.hack h6:before{display:inline}.hack h2:before{content:"## "}.hack h3:before{content:"### "}.hack h4:before{content:"#### "}.hack h5:before{content:"##### "}.hack h6:before{content:"###### "}.hack li{position:relative;display:block;padding-left:20px}.hack li:after{position:absolute;top:0;left:0}.hack ul>li:after{content:"-"}.hack ol{counter-reset:a}.hack ol>li:after{content:counter(a) ".";counter-increment:a}.hack ol li:nth-child(n+10):after{left:-7px}.hack blockquote{position:relative;padding-left:17px;padding-left:2ch;overflow:hidden}.hack blockquote:after{content:">\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>";white-space:pre;position:absolute;top:0;left:0;line-height:20px}.hack em:after,.hack em:before{content:"*";display:inline}.hack pre code:after,.hack pre code:before{content:""}.hack code{font-weight:700}.hack code:after,.hack code:before{content:"`";display:inline}.hack hr{position:relative;height:20px;overflow:hidden;border:0;margin:20px 0}.hack hr:after{content:"----------------------------------------------------------------------------------------------------";position:absolute;top:0;left:0;line-height:20px;width:100%;word-wrap:break-word}@-moz-document url-prefix(){.hack h1{display:block}}.hack-ones ol>li:after{content:"1."}p{margin:0 0 1.75rem}.container{max-width:70rem}.container,.container-fluid{margin:0 auto;padding:0 1rem}.inner{padding:1rem}.inner2x{padding:2rem}.pull-left{float:left}.pull-right{float:right}.progress-bar{height:8px;opacity:.8;background-color:#ccc;margin-top:12px}.progress-bar.progress-bar-show-percent{margin-top:38px}.progress-bar-filled{background-color:gray;height:100%;transition:width .3s ease;position:relative;width:0}.progress-bar-filled:before{content:"";border:6px solid transparent;border-top-color:gray;position:absolute;top:-12px;right:-6px}.progress-bar-filled:after{color:gray;content:attr(data-filled);display:block;font-size:12px;white-space:nowrap;position:absolute;border:6px solid transparent;top:-38px;right:0;-ms-transform:translateX(50%);transform:translateX(50%)}table{width:100%;border-collapse:collapse;margin:1.75rem 0;color:#778087}table td,table th{vertical-align:top;border:1px solid #ccc;line-height:15px;padding:10px}table thead th{font-size:10px}table tbody td:first-child{font-weight:700;color:#333}.form{width:30rem}.form-group{margin-bottom:1.75rem;overflow:auto}.form-group label{border-bottom:2px solid #ccc;color:#333;width:10rem;display:inline-block;height:38px;line-height:38px;padding:0;float:left;position:relative}.form-group.form-success label{color:#4caf50!important;border-color:#4caf50!important}.form-group.form-warning label{color:#ff9800!important;border-color:#ff9800!important}.form-group.form-error label{color:#f44336!important;border-color:#f44336!important}.form-control{outline:none;border:none;border-bottom:2px solid #ccc;padding:.5rem 0;width:20rem;height:38px;background-color:transparent}.form-control:focus{border-color:#555}.form-group.form-textarea label:after{position:absolute;content:"";width:2px;background-color:#fff;right:-2px;top:0;bottom:0}textarea.form-control{height:auto;resize:none;padding:1rem 0;border-bottom:2px solid #ccc;border-left:2px solid #ccc;padding:.5rem}select.form-control{border-radius:0;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none}.help-block{color:#999;margin-top:.5rem}.form-actions{margin-bottom:1.75rem}.btn{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;outline:none;padding:.65rem 2rem;font-size:1rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;z-index:1}.btn:active{box-shadow:inset 0 1px 3px rgba(0,0,0,.12)}.btn.btn-ghost{border-color:#757575;color:#757575;background-color:transparent}.btn.btn-ghost:focus,.btn.btn-ghost:hover{border-color:#424242;color:#424242;z-index:2}.btn.btn-ghost:hover{background-color:transparent}.btn-block{width:100%;display:-ms-flexbox;display:flex}.btn-default{color:#fff;background-color:#e0e0e0;border:1px solid #e0e0e0;color:#333}.btn-default:focus:not(.btn-ghost),.btn-default:hover{background-color:#dcdcdc;border-color:#dcdcdc}.btn-success{color:#fff;background-color:#4caf50;border:1px solid #4caf50}.btn-success:focus:not(.btn-ghost),.btn-success:hover{background-color:#43a047;border-color:#43a047}.btn-success.btn-ghost{border-color:#4caf50;color:#4caf50}.btn-success.btn-ghost:focus,.btn-success.btn-ghost:hover{border-color:#388e3c;color:#388e3c;z-index:2}.btn-error{color:#fff;background-color:#f44336;border:1px solid #f44336}.btn-error:focus:not(.btn-ghost),.btn-error:hover{background-color:#e53935;border-color:#e53935}.btn-error.btn-ghost{border-color:#f44336;color:#f44336}.btn-error.btn-ghost:focus,.btn-error.btn-ghost:hover{border-color:#d32f2f;color:#d32f2f;z-index:2}.btn-warning{color:#fff;background-color:#ff9800;border:1px solid #ff9800}.btn-warning:focus:not(.btn-ghost),.btn-warning:hover{background-color:#fb8c00;border-color:#fb8c00}.btn-warning.btn-ghost{border-color:#ff9800;color:#ff9800}.btn-warning.btn-ghost:focus,.btn-warning.btn-ghost:hover{border-color:#f57c00;color:#f57c00;z-index:2}.btn-info{color:#fff;background-color:#00bcd4;border:1px solid #00bcd4}.btn-info:focus:not(.btn-ghost),.btn-info:hover{background-color:#00acc1;border-color:#00acc1}.btn-info.btn-ghost{border-color:#00bcd4;color:#00bcd4}.btn-info.btn-ghost:focus,.btn-info.btn-ghost:hover{border-color:#0097a7;color:#0097a7;z-index:2}.btn-primary{color:#fff;background-color:#2196f3;border:1px solid #2196f3}.btn-primary:focus:not(.btn-ghost),.btn-primary:hover{background-color:#1e88e5;border-color:#1e88e5}.btn-primary.btn-ghost{border-color:#2196f3;color:#2196f3}.btn-primary.btn-ghost:focus,.btn-primary.btn-ghost:hover{border-color:#1976d2;color:#1976d2;z-index:2}.btn-group{overflow:auto}.btn-group .btn{float:left}.btn-group .btn-ghost:not(:first-child){margin-left:-1px}.card{border:1px solid #ccc}.card .card-header{color:#333;text-align:center;background-color:#ddd;padding:.5rem 0}.alert{color:#ccc;padding:1rem;border:1px solid #ccc;margin-bottom:1.75rem}.alert-success{color:#4caf50;border-color:#4caf50}.alert-error{color:#f44336;border-color:#f44336}.alert-info{color:#00bcd4;border-color:#00bcd4}.alert-warning{color:#ff9800;border-color:#ff9800}.media:not(:last-child){margin-bottom:1.25rem}.media-left{padding-right:1rem}.media-left,.media-right{display:table-cell;vertical-align:top}.media-right{padding-left:1rem}.media-body{display:table-cell;vertical-align:top}.media-heading{font-size:1.16667rem;font-weight:700}.media-content{margin-top:.3rem}.avatarholder,.placeholder{background-color:#f0f0f0;text-align:center;color:#b9b9b9;font-size:1rem;border:1px solid #f0f0f0}.avatarholder{width:48px;height:48px;line-height:46px;font-size:2rem;background-size:cover;background-position:50%;background-repeat:no-repeat}.avatarholder.rounded{border-radius:33px}.loading{display:inline-block;content:"&nbsp;";height:20px;width:20px;margin:0 .5rem;animation:a .6s infinite linear;border:2px solid #e91e63;border-right-color:transparent;border-radius:50%}.btn .loading{margin-bottom:0;width:14px;height:14px}.btn div.loading{float:left}.alert .loading{margin-bottom:-5px}@keyframes a{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.menu{width:100%}.menu .menu-item{display:block;color:#616161;border-color:#616161}.menu .menu-item.active,.menu .menu-item:hover{color:#000;border-color:#000;background-color:transparent}@media screen and (max-width:768px){.form-group label{display:block;border-bottom:none;width:100%}.form-group.form-textarea label:after{display:none}.form-control{width:100%}textarea.form-control{border-left:none;padding:.5rem 0}pre::-webkit-scrollbar{height:3px}}@media screen and (max-width:480px){.form{width:100%}}
  .solarized-dark{background-color:#073642;color:#78909c}.solarized-dark h1,.solarized-dark h2,.solarized-dark h3,.solarized-dark h4,.solarized-dark h5,.solarized-dark h6{color:#1e88e5}.solarized-dark h1 a,.solarized-dark h2 a,.solarized-dark h3 a,.solarized-dark h4 a,.solarized-dark h5 a,.solarized-dark h6 a{color:#1e88e5;border-bottom-color:#1e88e5}.solarized-dark h1 a:hover,.solarized-dark h2 a:hover,.solarized-dark h3 a:hover,.solarized-dark h4 a:hover,.solarized-dark h5 a:hover,.solarized-dark h6 a:hover{background-color:#1e88e5;color:#fff}.solarized-dark pre{background-color:#073642;padding:0;border:none}.solarized-dark pre code{color:#009688}.solarized-dark h1 a,.solarized-dark h2 a,.solarized-dark h3 a,.solarized-dark h4 a,.solarized-dark h5 a{color:#78909c}.solarized-dark code,.solarized-dark strong{color:#90a4ae}.solarized-dark code{font-weight:100}.solarized-dark .progress-bar-filled{background-color:#558b2f}.solarized-dark .progress-bar-filled:after,.solarized-dark .progress-bar-filled:before{color:#90a4ae}.solarized-dark table{color:#78909c}.solarized-dark table td,.solarized-dark table th{border-color:#b0bec5}.solarized-dark table tbody td:first-child{color:#b0bec5}.solarized-dark .form-group label{color:#78909c;border-color:#90a4ae}.solarized-dark .form-group.form-textarea label:after{background-color:#073642}.solarized-dark .form-control{color:#78909c;border-color:#90a4ae}.solarized-dark .form-control:focus{border-color:#cfd8dc;color:#cfd8dc}.solarized-dark textarea.form-control{color:#78909c}.solarized-dark .card{border-color:#90a4ae}.solarized-dark .card .card-header{background-color:transparent;color:#78909c;border-bottom:1px solid #90a4ae}.solarized-dark .btn.btn-ghost.btn-default{border-color:#607d8b;color:#607d8b}.solarized-dark .btn.btn-ghost.btn-default:focus,.solarized-dark .btn.btn-ghost.btn-default:hover{border-color:#90a4ae;color:#90a4ae;z-index:1}.solarized-dark .btn.btn-ghost.btn-default:focus,.solarized-dark .btn.btn-ghost.btn-default:hover{border-color:#e0e0e0;color:#e0e0e0}.solarized-dark .btn.btn-ghost.btn-primary:focus,.solarized-dark .btn.btn-ghost.btn-primary:hover{border-color:#64b5f6;color:#64b5f6}.solarized-dark .btn.btn-ghost.btn-success:focus,.solarized-dark .btn.btn-ghost.btn-success:hover{border-color:#81c784;color:#81c784}.solarized-dark .btn.btn-ghost.btn-info:focus,.solarized-dark .btn.btn-ghost.btn-info:hover{border-color:#4dd0e1;color:#4dd0e1}.solarized-dark .btn.btn-ghost.btn-error:focus,.solarized-dark .btn.btn-ghost.btn-error:hover{border-color:#e57373;color:#e57373}.solarized-dark .btn.btn-ghost.btn-warning:focus,.solarized-dark .btn.btn-ghost.btn-warning:hover{border-color:#ffb74d;color:#ffb74d}.solarized-dark .avatarholder,.solarized-dark .placeholder{background-color:transparent;border-color:#90a4ae}.solarized-dark .menu .menu-item{color:#78909c;border-color:#90a4ae}.solarized-dark .menu .menu-item.active,.solarized-dark .menu .menu-item:hover{color:#fff;border-color:#78909c}
</style>

    <script async src="/js/lazysizes.min.js"></script>

  <script async src="/js/bpgdec8a.js"></script>
  <script async src="/js/bpgdec8.js"></script>
  <script async src="/js/bpgdec.js"></script>

  </head>
  
  <body class="dark-grey main container">
    <header>
  
  <nav itemscope itemtype="http://schema.org/SiteNavigationElement">
    
    
      <a itemprop="url" class="" href="/"><span itemprop="name">Home</span></a>
    
      <a itemprop="url" class="active" href="/post/"><span itemprop="name">Posts</span></a>
    
      <a itemprop="url" class="" href="/articles/"><span itemprop="name">Articles</span></a>
    
      <a itemprop="url" class="" href="/tags/"><span itemprop="name">Tags</span></a>
    
      <a itemprop="url" class="" href="/categories/"><span itemprop="name">Categories</span></a>
    
      <a itemprop="url" class="" href="/about/"><span itemprop="name">About</span></a>
    
  </nav>
    <link rel="stylesheet" href="/css/monokai.css">
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>



</header>
    <main>
  <article itemscope itemtype="http://schema.org/BlogPosting">
    
<meta itemprop="name" content="Reading HackingVim 7.2">
<meta itemprop="description" content="Hacking Vim 7.2 reading.">


<meta itemprop="datePublished" content="2018-03-24T01:00:23&#43;08:00" />
<meta itemprop="dateModified" content="2018-03-24T01:00:23&#43;08:00" />
<meta itemprop="wordCount" content="2534">

  <meta itemprop="image" content="https://source.unsplash.com/category/technology/1600x900">



<meta itemprop="keywords" content="reading,vim," />

    <header>
      <h1 itemprop="headline">Reading HackingVim 7.2</h1>
      <p class="muted">
        <svg style="margin-bottom:-3px" class="i-clock" viewBox="0 0 32 32" width="16" height="16" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="6.25%">
  <circle cx="16" cy="16" r="14" />
  <path d="M16 8 L16 16 20 20" />
</svg>
<span>12 minute read</span>
<svg style="margin-bottom: -3px" class="i-edit" viewBox="0 0 32 32" width="16" height="16" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="6.25%">
  <path d="M30 7 L25 2 5 22 3 29 10 27 Z M21 6 L26 11 Z M5 22 L10 27 Z" />
</svg>

  Published: <time datetime="2018-03-24T01:00:23&#43;08:00">24 Mar, 2018</time>


      </p>
      
        <blockquote itemprop="description">Hacking Vim 7.2 reading.</blockquote>
      
      
      
    </header>
    
  <details>
    <summary>Table of Contents</summary>
    <nav id="TableOfContents">
<ul>
<li><a href="#概述">概述</a></li>
<li><a href="#ch1-getting-started-with-vim-簡介">Ch1: GETTING STARTED WITH VIM #簡介</a></li>
<li><a href="#ch2-personalizing-vim-vim個人化">Ch2: PERSONALIZING VIM        #Vim個人化</a>
<ul>
<li><a href="#2-1-設定檔的位置">2.1 設定檔的位置</a></li>
<li><a href="#2-2-字體">2.2 字體</a></li>
<li><a href="#2-3-配色-colorscheme">2.3 配色 (colorscheme)</a>
<ul>
<li><a href="#2-3-1-高亮-hightlight">2.3.1 高亮 (hightlight)</a></li>
</ul></li>
<li><a href="#2-4-狀態列-statusline">2.4 狀態列(statusline)</a></li>
<li><a href="#2-5-切換選單-工具列-menu-toolbar">2.5 切換選單、工具列 Menu,Toolbar</a></li>
<li><a href="#2-6-自訂選單-工具列">2.6 自訂選單、工具列</a></li>
<li><a href="#2-7-修改頁籤-tabs">2.7 修改頁籤(Tabs)</a></li>
<li><a href="#2-8-工作區個人化">2.8 工作區個人化</a>
<ul>
<li><a href="#2-8-1-光標-cursor">2.8.1 光標 cursor</a></li>
<li><a href="#2-8-2-行號-line-numbers">2.8.2 行號 line numbers</a></li>
<li><a href="#2-8-3-拼寫檢查-spell-checking">2.8.3 拼寫檢查 Spell checking</a></li>
<li><a href="#2-8-4-工具提示-tooltip">2.8.4 工具提示 Tooltip</a></li>
<li><a href="#2-8-5-使用縮寫-abbreviations">2.8.5 使用縮寫 abbreviations</a></li>
<li><a href="#2-8-6-修改按鍵綁定-key-bindings">2.8.6 修改按鍵綁定 Key bindings</a></li>
</ul></li>
<li><a href="#2-9-小結">2.9 小結</a></li>
</ul></li>
<li><a href="#ch3-better-navigation-移動">Ch3: BETTER NAVIGATION         #移動</a>
<ul>
<li><a href="#3-1-文件內移動">3.1 文件內移動</a>
<ul>
<li><a href="#3-1-1-基於上下文的移動">3.1.1 基於上下文的移動</a>
<ul>
<li><a href="#3-1-1-1-一般文件">3.1.1.1 一般文件</a></li>
<li><a href="#3-1-1-2-程式碼">3.1.1.2 程式碼</a></li>
<li><a href="#3-1-2-在長行內移動">3.1.2 在長行內移動</a></li>
</ul></li>
</ul></li>
<li><a href="#3-2-使用-help-說明文件">3.2 使用 Help 說明文件</a></li>
<li><a href="#3-3-在多個緩衝區-buffer-間移動">3.3 在多個緩衝區(Buffer)間移動</a></li>
<li><a href="#3-4-快速打開引用文件">3.4 快速打開引用文件</a></li>
<li><a href="#3-5-搜尋-search">3.5 搜尋 Search</a>
<ul>
<li><a href="#3-5-1-在目前文件中搜索">3.5.1 在目前文件中搜索</a></li>
<li><a href="#3-5-2-在多個文件中搜索">3.5.2 在多個文件中搜索</a></li>
<li><a href="#3-5-3-在說明文件中搜索">3.5.3 在說明文件中搜索</a></li>
</ul></li>
<li><a href="#3-6-標記位置">3.6 標記位置</a>
<ul>
<li><a href="#3-6-1-可見標記">3.6.1 可見標記</a></li>
<li><a href="#3-6-2-隱形標記">3.6.2 隱形標記</a></li>
</ul></li>
<li><a href="#3-7-小結">3.7 小結</a></li>
</ul></li>
<li><a href="#ch4-production-boosters-增強生產力">Ch4: PRODUCTION BOOSTERS       #增強生產力</a>
<ul>
<li><a href="#4-1-模版">4.1 模版</a></li>
<li><a href="#4-1-1-模版文件">4.1.1 模版文件</a></li>
<li><a href="#4-1-2-把縮寫作為模版">4.1.2 把縮寫作為模版</a></li>
<li><a href="#4-1-3-snipmate">4.1.3 snipMate</a></li>
<li><a href="#4-1-4-其他-snippets-pluging">4.1.4 其他 snippets Pluging</a></li>
<li><a href="#4-2-tag-list">4.2 Tag List</a></li>
<li><a href="#4-3-autocomplete-自動補全">4.3 AutoComplete 自動補全</a>
<ul>
<li><a href="#4-3-2-依字典的自動補全">4.3.2 依字典的自動補全</a></li>
<li><a href="#4-3-3-omnicompletion">4.3.3 Omnicompletion</a></li>
<li><a href="#4-3-4-多合一-autocomplete">4.3.4  多合一 autocomplete</a></li>
</ul></li>
<li><a href="#4-4-錄製巨集-macros">4.4 錄製巨集 Macros</a></li>
<li><a href="#4-5-會話-session">4.5 會話 Session</a>
<ul>
<li><a href="#4-5-1-簡單會話使用">4.5.1 簡單會話使用</a></li>
<li><a href="#4-5-2-個人化-session-使用">4.5.2 個人化 Session 使用</a></li>
<li><a href="#4-5-3-sessions-as-a-project-manager">4.5.3 Sessions as a project manager</a></li>
</ul></li>
<li><a href="#4-6-暫存器-和-undo-分支">4.6 暫存器 和 Undo 分支</a>
<ul>
<li><a href="#4-6-1-暫存器">4.6.1 暫存器</a></li>
<li><a href="#4-6-2-unod-list">4.6.2 Unod list</a></li>
</ul></li>
<li><a href="#4-7-folding-折疉">4.7 Folding 折疉</a>
<ul>
<li><a href="#4-7-1-simple-text-file-outlining">4.7.1 Simple text file outlining</a></li>
<li><a href="#4-7-2-using-vimdiff-to-track-the-changes">4.7.2 Using vimdiff to track the changes</a></li>
<li><a href="#4-7-3-navigation-in-vimdiff">4.7.3 Navigation in vimdiff</a></li>
<li><a href="#4-7-4-using-diff-to-track-changes">4.7.4 Using diff to track changes</a></li>
</ul></li>
<li><a href="#4-8-打開任意位置的文件">4.8 打開任意位置的文件</a>
<ul>
<li><a href="#4-8-1-faster-remote-file-editing">4.8.1 Faster remote file editing</a></li>
</ul></li>
<li><a href="#4-9-小結">4.9 小結</a></li>
</ul></li>
<li><a href="#ch5-advanced-formatting-進階格式化">Ch5: ADVANCED FORMATTING 進階格式化</a>
<ul>
<li><a href="#5-1-文本格式化">5.1 文本格式化</a>
<ul>
<li><a href="#5-1-1-文本分段">5.1.1 文本分段</a></li>
<li><a href="#5-1-2-內文對齊">5.1.2 內文對齊</a></li>
<li><a href="#5-1-3-標記標題">5.1.3 標記標題</a></li>
<li><a href="#5-1-4-建立清單">5.1.4 建立清單</a></li>
</ul></li>
<li><a href="#5-2-代碼格式化">5.2 代碼格式化</a></li>
<li><a href="#5-3-使用外部工具格式化">5.3 使用外部工具格式化</a></li>
<li><a href="#5-4-小結">5.4 小結</a></li>
</ul></li>
<li><a href="#ch6-basic-vim-scripting-基本-vim-scripting">Ch6: BASIC VIM SCRIPTING 基本 Vim Scripting</a>
<ul>
<li><a href="#6-1-語法配色-syntax-color-scheme">6.1 語法配色 syntax-color scheme</a></li>
<li><a href="#6-2-區域高亮-syntax-regions">6.2 區域高亮 Syntax regions</a>
<ul>
<li><a href="#6-2-1-color-scheme-and-syntax-coloring">6.2.1 Color scheme and syntax coloring</a></li>
</ul></li>
<li><a href="#6-3-使用腳本-using-scripts">6.3 使用腳本 Using scripts</a>
<ul>
<li><a href="#6-3-1-script-types">6.3.1 Script types</a></li>
<li><a href="#6-3-2-installing-scripts">6.3.2 Installing scripts</a></li>
<li><a href="#6-3-3-uninstalling-scripts">6.3.3 Uninstalling scripts</a></li>
</ul></li>
<li><a href="#6-4-腳本開發-script-development">6.4 腳本開發 Script development</a>
<ul>
<li><a href="#6-4-1-script-writing-basics">6.4.1 Script writing basics</a>
<ul>
<li><a href="#types">Types</a></li>
<li><a href="#變數-variables">變數 Variables</a></li>
<li><a href="#conditions">Conditions</a></li>
<li><a href="#working-with-lists-and-dictionaries">Working with lists and dictionaries</a></li>
<li><a href="#loops">Loops</a></li>
<li><a href="#creating-functions">Creating functions</a></li>
<li><a href="#variable-argument-list">Variable argument list</a></li>
</ul></li>
</ul></li>
</ul></li>
<li><a href="#6-5-小結-summary">6.5 小結 Summary</a></li>
<li><a href="#ch7-extended-vim-scripting-進階-vim-scripting">Ch7: EXTENDED VIM SCRIPTING 進階 Vim Scripting</a>
<ul>
<li><a href="#7-1-script-structure">7.1 Script structure</a>
<ul>
<li><a href="#7-1-1-script-header">7.1.1 Script header</a></li>
<li><a href="#7-1-2-script-loaded-check">7.1.2 Script-loaded check</a></li>
<li><a href="#7-1-3-script-configuration">7.1.3 Script configuration</a></li>
<li><a href="#7-1-4-key-mappings">7.1.4 Key mappings</a></li>
<li><a href="#7-1-5-functions">7.1.5 Functions</a></li>
<li><a href="#7-1-6-putting-it-all-together">7.1.6 Putting it all together</a></li>
</ul></li>
<li><a href="#7-2-scripting-tips">7.2 Scripting tips</a>
<ul>
<li><a href="#7-2-1-gvim-or-vim">7.2.1 Gvim or Vim?</a></li>
<li><a href="#7-2-2-which-operating-system">7.2.2 Which operating system?</a></li>
<li><a href="#7-2-3-which-version-of-vim">7.2.3 Which version of Vim?</a></li>
<li><a href="#7-2-4-printing-longer-lines">7.2.4 Printing longer lines</a></li>
</ul></li>
<li><a href="#7-3-debugging-vim-scripts">7.3 Debugging Vim scripts</a></li>
<li><a href="#7-4-distributing-vim-scripts">7.4 Distributing Vim scripts</a>
<ul>
<li><a href="#7-4-1-making-vimballs">7.4.1 Making Vimballs</a></li>
</ul></li>
<li><a href="#7-5-remember-the-documentation">7.5 Remember the documentation</a></li>
<li><a href="#7-6-using-external-interpreters">7.6 Using external interpreters</a>
<ul>
<li><a href="#7-6-1-vim-scripting-in-perl">7.6.1 Vim scripting in Perl</a></li>
<li><a href="#7-6-2-vim-scripting-in-python">7.6.2 Vim scripting in Python</a></li>
<li><a href="#7-6-3-vim-scripting-in-ruby">7.6.3 Vim scripting in Ruby</a></li>
</ul></li>
<li><a href="#7-7-小結-summary">7.7 小結 Summary</a></li>
</ul></li>
<li><a href="#appendix-a-vim的其他功能">Appendix A Vim的其他功能</a></li>
<li><a href="#appendix-b-vimrc-設定">Appendix B Vimrc 設定</a>
<ul>
<li><a href="#b-1-保持-vimrc-簡潔的技巧">B.1 保持 Vimrc 簡潔的技巧</a></li>
<li><a href="#b-2-vimrc的設定系統">B.2 Vimrc的設定系統</a></li>
<li><a href="#b-3-vimrc雲端儲存">B.3 Vimrc雲端儲存</a></li>
</ul></li>
<li><a href="#參考連結">參考連結</a></li>
</ul>
</nav>
  </details>
  <script>
    const el = document.querySelector('details summary')
    el.onclick = () => {
      (function(l,o,a,d,e,r){e=o.createElement(a),r=o.getElementsByTagName(a)[0];e.async=1;e.src=d;r.parentNode.insertBefore(e,r)})(window,document,'script','/js/smoothscroll.js');
      el.onclick = null
    }
    document.querySelectorAll('#TableOfContents a').forEach(link => {
      link.addEventListener('click', () => {
        document.querySelector(
          link.href.slice(link.href.indexOf('#'))
        ).scrollIntoView({ behavior: 'smooth' })
      })
    })
  </script>


    <div itemprop="articleBody">
      <p>Hacking Vim 7.2 讀後心得。</p>

<p>以及一些簡單的筆記、和心得記錄。</p>

<p></p>

<p>Task list: 😄</p>

<ul class="task-list">
<li><label><input type="checkbox" checked disabled class="task-list-item"> 初稿</label></li>
<li><label><input type="checkbox" disabled class="task-list-item"> 修正</label></li>
<li><label><input type="checkbox" disabled class="task-list-item"> incomplete</label></li>
<li><label><input type="checkbox" disabled class="task-list-item"> completed</label></li>
</ul>

<p><img src="https://d1ldz4te4covpm.cloudfront.net/sites/default/files/imagecache/ppv4_reader_book_cover/0509_Hacking%20Vim%207.2cov.jpg" alt="Hacking Vim 7.2" /></p>

<p><a href="https://www.packtpub.com/application-development/hacking-vim-72">Hacking Vim 7.2</a>
<BR> Ready-to-use hacks with solutions for common situations encountered by users of the Vim editor</p>

<ul>
<li>by Kim Schulz (Author)</li>
<li>File Size: 1543 KB</li>
<li>Print Length: 246 pages</li>
<li>Publisher: Packt Publishing (April 29, 2010)</li>
<li>Publication Date: April 29, 2010</li>
<li>Sold by: Amazon Digital Services LLC</li>
<li>Language: English</li>
</ul>

<p><a href="https://www.packtpub.com/lcode_download/5226">Code Files</a></p>

<h1 id="概述">概述</h1>

<p>這本書大概是講一些比較進階的Vim設定使用的內容。</p>

<p>Table of Contents:</p>

<table>
<thead>
<tr>
<th>原文</th>
<th>中文</th>
</tr>
</thead>

<tbody>
<tr>
<td>Ch1: GETTING STARTED WITH VIM</td>
<td>#簡介</td>
</tr>

<tr>
<td>Ch2: PERSONALIZING VIM</td>
<td>#Vim個人化</td>
</tr>

<tr>
<td>Ch3: BETTER NAVIGATION</td>
<td>#移動</td>
</tr>

<tr>
<td>Ch4: PRODUCTION BOOSTERS</td>
<td>#增強生產力</td>
</tr>

<tr>
<td>Ch5: ADVANCED FORMATTING</td>
<td>#進階格式化</td>
</tr>

<tr>
<td>Ch6: BASIC VIM SCRIPTING</td>
<td>#基本 Vim Scripting</td>
</tr>

<tr>
<td>Ch7: EXTENDED VIM SCRIPTING</td>
<td>#進階 Vim Scripting</td>
</tr>
</tbody>
</table>

<h1 id="ch1-getting-started-with-vim-簡介">Ch1: GETTING STARTED WITH VIM #簡介</h1>

<p>簡介了 Vim 的歷史，從 ex,vi,STEVIE,Elvis,nvi,Vim,Vile。</p>

<p>不過沒提到較新的 <a href="https://github.com/neovim/neovim">neovim</a>。</p>

<p>另外一些比較有趣的編輯器:</p>

<ul>
<li>Google 用 Rust 寫的新編輯器 <a href="https://github.com/google/xi-editor">xi-editor</a>。</li>
<li>Emacs</li>
<li><a href="https://www.sublimetext.com/3">Sublime-text</a></li>
<li>Visual Stuido Code</li>
<li>Atom</li>
</ul>

<h1 id="ch2-personalizing-vim-vim個人化">Ch2: PERSONALIZING VIM        #Vim個人化</h1>

<h2 id="2-1-設定檔的位置">2.1 設定檔的位置</h2>

<ul>
<li>作業系統的不同： Linux(.vimrc) , MSWin(_vimrc)</li>
<li>操作界面的不同： Console(vimrc), GUI(gvimrc), vi/ex mode(exrc)</li>
</ul>

<p>在Vim下輸入指令，直接顯示目前的設定檔位置：</p>

<pre><code class="language-vim">:echo $HOME
:echo $MYVIMRC
:echo $MYGVIMRC
</code></pre>

<p>gvimrc 主要是輸入一些在GUI特有的設定，最好是能把跟 vimrc的設定分開。</p>

<h2 id="2-2-字體">2.2 字體</h2>

<p>在GUI下輸入，可以打開字型視窗。</p>

<pre><code class="language-vim">:set guifont=*
</code></pre>

<p>不同的的作業系統下設定字型的方式有點差異。</p>

<pre><code class="language-vim">&quot; Linux
:set guifont=Courier\ New\ 14
&quot; MSWin
:set guifont=Courier\ New:14
:help guifont  &quot;更多的資料
</code></pre>

<p>See Also: <a href="http://vim.wikia.com/wiki/Setting_the_font_in_the_GUI">Setting the font in the GUI</a></p>

<h2 id="2-3-配色-colorscheme">2.3 配色 (colorscheme)</h2>

<p>配色在 console，和GUI下，同一colorscheme會有不同的效果，
所以選擇 colorscheme應該要注意。</p>

<h3 id="2-3-1-高亮-hightlight">2.3.1 高亮 (hightlight)</h3>

<p>pass</p>

<h2 id="2-4-狀態列-statusline">2.4 狀態列(statusline)</h2>

<p>狀態列可以設定滿多東西的，文件名，格式，文件長度…</p>

<pre><code class="language-vim">:set statusline=%F%m%r%h%w\ [FORMAT=%{&amp;ff}]\ [TYP[HEX=\%02.2B]\ [POS=%04l,%04v]\ [%p%%]\ [LEN=%L]
</code></pre>

<p>但這設定完後，不會馬上出現，要設定 statusline的位置在最後兩行，才會出現。</p>

<pre><code class="language-vim">:set laststatus=2  #狀態列在最後第二行
:set laststatus=0  #狀態列關閉
</code></pre>

<h2 id="2-5-切換選單-工具列-menu-toolbar">2.5 切換選單、工具列 Menu,Toolbar</h2>

<p>在GUI下，可以設定功能到選單、工具列上。</p>

<h2 id="2-6-自訂選單-工具列">2.6 自訂選單、工具列</h2>

<p>增加選單</p>

<pre><code class="language-vim">:menu menupath command
</code></pre>

<p><code>menu</code> 的指令就是像 <code>map</code> 把選單映射到一個指令</p>

<p>例如</p>

<pre><code class="language-vim">:menu Tabs.Next &lt;ESC&gt;:tabnext&lt;cr&gt;
</code></pre>

<h2 id="2-7-修改頁籤-tabs">2.7 修改頁籤(Tabs)</h2>

<p>從 Vim 7.0開始支援 頁籤 Tabs，每個 Tabs有個別的屬性。</p>

<pre><code class="language-vim">:set tabline tabline-layout  &quot; Tabs的狀態列
:set guitablabel &quot; gvim的Tab狀態列
</code></pre>

<h2 id="2-8-工作區個人化">2.8 工作區個人化</h2>

<h3 id="2-8-1-光標-cursor">2.8.1 光標 cursor</h3>

<pre><code class="language-vim">:set cursorline   &quot; 顯示cursor line
:highlight CursorLine guibg=lightblue ctermbg=lightgray
&quot; 設定 cursorline 顏色
:set cursorcolumn &quot; 顯示縱向的指標行
:highlight CursorColumn guibg=blue ctermbg=gray
&quot; 設定 cursorcolumn 顏色
:set nocursorcolumn &quot; 關閉cursorcolumn
</code></pre>

<h3 id="2-8-2-行號-line-numbers">2.8.2 行號 line numbers</h3>

<pre><code class="language-vim">&quot; 打開行號
:set number
:set nu
:set nonumber
:set nonu
&quot; 預設的行號佔 4個space, 下面指令可以修改預設值
:set numberwidth=`widch`
</code></pre>

<h3 id="2-8-3-拼寫檢查-spell-checking">2.8.3 拼寫檢查 Spell checking</h3>

<p>Vim 7.0 以後有內建的 spell check</p>

<pre><code class="language-vim">:set spell  &quot; 打開拼寫檢查
:set spelllang=en_us &quot; 設定拼寫語言
</code></pre>

<p><strong>錯字的配色</strong></p>

<ul>
<li>在console(terminal)下，紅底白字</li>
<li>在gvim下，紅色波浪底線</li>
</ul>

<p><strong>移動、更正</strong></p>

<ul>
<li>把遊標移到錯誤的字，輸入  <code>z=</code>，可以更正錯誤的拼字。</li>
<li><code>]s</code> and <code>[s</code> 可以移動到上一個、下一個錯誤拼字</li>
</ul>

<h3 id="2-8-4-工具提示-tooltip">2.8.4 工具提示 Tooltip</h3>

<h3 id="2-8-5-使用縮寫-abbreviations">2.8.5 使用縮寫 abbreviations</h3>

<p>使用縮寫來減少重複輸入</p>

<pre><code class="language-vim">:iabbrev myAddr 32 Lincoln Road, Birmingham B27 6PA, United Kingdom
</code></pre>

<p>可以在 輸入模式中，輸入 myAddr後，變成之前設定的地址。</p>

<ul>
<li>:abbreviate(abbr): Abbreviations for all modes   #全模式</li>
<li>:iabbrev(iabbr): Abbreviations for the insert mode #輸入模式</li>
<li>:cabbrev(cabbr): Abbreviations for the command line only #命令模式</li>
</ul>

<h3 id="2-8-6-修改按鍵綁定-key-bindings">2.8.6 修改按鍵綁定 Key bindings</h3>

<pre><code class="language-vim">:map &lt;C-s&gt; &lt;esc&gt;:w&lt;cr&gt;
</code></pre>

<p>把按鍵和指令重新指定。</p>

<ul>
<li>:map: For the Normal, Insert, Visual, and Command-line modes</li>
<li>:imap: For the Insert mode only</li>
<li>:cmap: For the Command-line mode only</li>
<li>:nmap: For the Normal mode only</li>
<li>:vmap: For the Visual mode only</li>
</ul>

<table>
<thead>
<tr>
<th>Keys</th>
<th>Notation</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>&lt;BS&gt;</code></td>
<td>Backspace</td>
</tr>

<tr>
<td><code>&lt;Tab&gt;</code></td>
<td>Tab</td>
</tr>

<tr>
<td><code>&lt;CR&gt;</code></td>
<td>Enter</td>
</tr>

<tr>
<td><code>&lt;Enter&gt;</code></td>
<td>Enter</td>
</tr>

<tr>
<td><code>&lt;Return&gt;</code></td>
<td>Enter</td>
</tr>

<tr>
<td><code>&lt;Esc&gt;</code></td>
<td>Escape</td>
</tr>

<tr>
<td><code>&lt;Space&gt;</code></td>
<td>Space</td>
</tr>

<tr>
<td><code>&lt;Up&gt;</code></td>
<td>Up arrow</td>
</tr>

<tr>
<td><code>&lt;Down&gt;</code></td>
<td>Down arrow</td>
</tr>

<tr>
<td><code>&lt;Left&gt;</code></td>
<td>Left arrow</td>
</tr>

<tr>
<td><code>&lt;Right&gt;</code></td>
<td>Right arrow</td>
</tr>

<tr>
<td><code>&lt;F1&gt;</code> - <code>&lt;F12&gt;</code></td>
<td>Function keys 1 to 12</td>
</tr>

<tr>
<td>#1, #2..#9,#0</td>
<td>Function keys F1 to F9, F1</td>
</tr>

<tr>
<td><code>&lt;Insert&gt;</code></td>
<td>Insert</td>
</tr>

<tr>
<td><code>&lt;Del&gt;</code></td>
<td>Delete</td>
</tr>

<tr>
<td><code>&lt;Home&gt;</code></td>
<td>Home</td>
</tr>

<tr>
<td><code>&lt;End&gt;</code></td>
<td>End</td>
</tr>

<tr>
<td><code>&lt;PageUp&gt;</code></td>
<td>Page up</td>
</tr>

<tr>
<td><code>&lt;PageDown&gt;</code></td>
<td>Page down</td>
</tr>
</tbody>
</table>

<h2 id="2-9-小結">2.9 小結</h2>

<p>這章說明了各種設定修改的方式。</p>

<h1 id="ch3-better-navigation-移動">Ch3: BETTER NAVIGATION         #移動</h1>

<p>本章說明在各文件快速移動的方式。遊標移動、在多文件中移動、使用說明文件、搜索、標記。</p>

<h2 id="3-1-文件內移動">3.1 文件內移動</h2>

<h3 id="3-1-1-基於上下文的移動">3.1.1 基於上下文的移動</h3>

<p>文件結構的不同，可分為兩種情形：</p>

<ul>
<li>一般文件：段落、語句、單詞</li>
<li>程式碼：函數、區塊、單行</li>
</ul>

<h4 id="3-1-1-1-一般文件">3.1.1.1 一般文件</h4>

<ul>
<li><code>h</code>,<code>j</code>,<code>k</code>,<code>l</code>  #左、下、上、右</li>
<li><code>{</code>,<code>}</code>      #段落首、尾</li>
<li><code>g,</code>  <code>g;</code>  #最近修改過的地方，向前，向後</li>
<li><code>(</code> ,<code>)</code>    #句首、句尾</li>
<li><code>w</code>       #下一個單詞首字母</li>
<li><code>b</code>       #前一個單詞首字母</li>
<li><code>e</code>       #移動到單詞末尾</li>
</ul>

<p>單詞(Word)的定義:</p>

<blockquote>
<p>由字母、數字、dash(-)、underline(_)組成
以非空白字母組成</p>
</blockquote>

<h4 id="3-1-1-2-程式碼">3.1.1.2 程式碼</h4>

<p>Vim無法辨識所有程式的結構，不過C語言預設是可以的。</p>

<p>函數</p>

<ul>
<li><code>[[</code> and <code>][</code>: Move backwards / forward to the next section beginning (for
example, start of a function)</li>
<li><code>[]</code> and <code>]]</code>: Move backwards / forward to the next section end (for example,
end of a function)</li>
</ul>

<p>區塊</p>

<ul>
<li><code>[{</code>: Move to the beginning of the block</li>
<li><code>]}</code>: Move to the end of the block</li>
</ul>

<p>註解</p>

<ul>
<li><code>[/</code>: Move to the beginning of the comment block</li>
<li><code>]/</code>: Move to the end of the comment block</li>
</ul>

<p><code>gd</code>: 跳到變數定義區段
<code>gD</code>: 跳到全域變數定義區段</p>

<h4 id="3-1-2-在長行內移動">3.1.2 在長行內移動</h4>

<dl>
<dt>長行：</dt>
<dd><p>一行的內容過長，超過VIM視窗範圍的話，程式會自動把超出視窗寬的在下一行顯示。</p></dd>
</dl>

<p><code>gk</code>,<code>gj</code> :會以視覺上的行為主而移動。</p>

<h2 id="3-2-使用-help-說明文件">3.2 使用 Help 說明文件</h2>

<p>Vim的說明文件可以：</p>

<ul>
<li>按 <F1> 進入</li>
<li>或是在命令列輸入  <code>:help &lt;keyword&gt;</code></li>
</ul>

<p>移動
* <C-]> : 跳到 keyword 所指的位置
* <C-t> : 跳回前一個位置</p>

<p>文章內還有一些比較進階的設定。</p>

<h2 id="3-3-在多個緩衝區-buffer-間移動">3.3 在多個緩衝區(Buffer)間移動</h2>

<p>打開的文件，是存在緩衝區(Buffer)中。</p>

<ul>
<li><code>:buffers</code>: buffer list</li>
<li><code>:buffer N</code>: jump to buffer N</li>
<li><code>:bnext(bn)</code>: Next buffer</li>
<li><code>:bprevious(bp)</code>: Previous buffer</li>
</ul>

<h2 id="3-4-快速打開引用文件">3.4 快速打開引用文件</h2>

<p>像是在 C語言中的 <code>#include</code></p>

<pre><code class="language-c">#include &quot;example.h&quot;
</code></pre>

<p>在 <code>example.h</code> 上按 <code>gf</code>，Vim就會把檔案讀入緩衝區</p>

<h2 id="3-5-搜尋-search">3.5 搜尋 Search</h2>

<p>分三種：</p>

<ul>
<li>在目前文件中搜索</li>
<li>在多文件中搜索</li>
<li>在說明文件中搜索</li>
</ul>

<h3 id="3-5-1-在目前文件中搜索">3.5.1 在目前文件中搜索</h3>

<p>找單詞</p>

<ul>
<li>普通模式下 <code>?example</code>，命令模式下 <code>/example</code>可以找單詞</li>
<li><code>n</code>,<code>N</code>:在找到的結果向上，向上移動。</li>
<li><code>//</code>,<code>??</code>: 上一次搜索的輸入</li>
<li><code>#</code>,<code>*</code>: 搜索在遊標上的單詞，向上移動， 向下移動</li>
</ul>

<h3 id="3-5-2-在多個文件中搜索">3.5.2 在多個文件中搜索</h3>

<p>搜索的指令，在Unix系統下有 <code>grep</code>，MSWin下有 <code>find</code>,<code>findstr</code>，
而在 Vim下，有：</p>

<pre><code class="language-vim">:vimgrep /pattern/[j][g] file file2... fileN
</code></pre>

<ul>
<li>/pattern/ : 正則表示式</li>
<li><code>j</code>: 把結果輸入到 <code>quickfix</code> 列表</li>
<li><code>g</code>: 如果在同一行內有三個符合的結果，則會都顯示</li>
</ul>

<p><code>quickfix</code></p>

<ul>
<li><code>:clist</code>:顯示 <code>quickfix</code>結果</li>
<li><code>cnext(cn)</code>,<code>cprevious(cp)</code>:在 <code>quickfix</code>列表中移動</li>
</ul>

<h3 id="3-5-3-在說明文件中搜索">3.5.3 在說明文件中搜索</h3>

<pre><code class="language-vim">:helpgrep pattern [@LANG]
&quot; @LANG，可以指定說明文件的語言，例子：
:helpgrep completion@en
</code></pre>

<p>如果是新增加的文件，可以用下面的指令生成文件tags</p>

<pre><code class="language-vim">:helptags /path/to/doc
</code></pre>

<h2 id="3-6-標記位置">3.6 標記位置</h2>

<p>有時文件太長，要在個各處移動，標記(Marks)可以在某行前
作記號。例：</p>

<ul>
<li>可見標記</li>
<li>隱形標記</li>
</ul>

<h3 id="3-6-1-可見標記">3.6.1 可見標記</h3>

<p>通常是會在行號前面，用來標記某一行的符號。</p>

<pre><code class="language-vim">:sign define name arguments
</code></pre>

<p>定義標記列顏色</p>

<pre><code class="language-vim">:highlight SignColumn guibg=darkgrey
</code></pre>

<p>pass</p>

<h3 id="3-6-2-隱形標記">3.6.2 隱形標記</h3>

<p>另一種標記方式，基本上看不到，除非打開標記列表</p>

<p><code>:marks</code>: 打開標記列表
<code>ma</code> : 標記 <code>a</code>
<code>\</code>a<code>: 移動到</code>a<code>
</code>:deletemarks markid1 markid2 markid3<code>:刪除標記</code>
<code>:delmarks a f-i 1-4</code>:刪除 makrs
<code>:delmarks !</code>:刪除目前buffer所有marks</p>

<table>
<thead>
<tr>
<th>標號</th>
<th>用法</th>
</tr>
</thead>

<tbody>
<tr>
<td>0-9</td>
<td>保留內部使用，通常是最近開啟文件</td>
</tr>

<tr>
<td>a-z</td>
<td>本文件使用</td>
</tr>

<tr>
<td>A-Z</td>
<td>可以跟文件使用，如果有<code>.viminfo</code>存檔，下次打開Vim時，還可以使用</td>
</tr>
</tbody>
</table>

<h2 id="3-7-小結">3.7 小結</h2>

<p>這一節描述了cursor的移動，搜索、或是在各文件中移動的方式。</p>

<h1 id="ch4-production-boosters-增強生產力">Ch4: PRODUCTION BOOSTERS       #增強生產力</h1>

<p>這一章會簡介一些能增加效率的工具。</p>

<h2 id="4-1-模版">4.1 模版</h2>

<p>建立模版 Template ，減少重複性的工作。</p>

<h2 id="4-1-1-模版文件">4.1.1 模版文件</h2>

<p>應該可以分為兩種行為</p>

<ul>
<li>新建立文件時，讀取 已有的模版  或是骨架 Skeleton</li>
<li>在已存在的文件中，要加入小部分的文件結構 Snippets, 檔頭(C語言的 <code>#include</code>)，檔尾</li>
</ul>

<p>方法：</p>

<ul>
<li>建立模版檔：在 <code>$VIMHOME</code>/templates/下加入新的  <code>file-type.tpl</code> ，像是 <code>html.tpl</code></li>
<li>設定程式設定： 加入 <code>autocmd</code> 在開啟新檔時，自動讀入模版。</li>
</ul>

<h2 id="4-1-2-把縮寫作為模版">4.1.2 把縮寫作為模版</h2>

<p>前面有提為的功能 縮寫可以用來快速輸入一些結構，像是迴圈、或是snippets</p>

<h2 id="4-1-3-snipmate">4.1.3 snipMate</h2>

<p>更完整的功能，有人編寫了完整的 plugins。</p>

<p><a href="https://vimawesome.com/plugin/snipmate">https://vimawesome.com/plugin/snipmate</a>
<a href="https://www.vim.org/scripts/script.php?script_id=2540">https://www.vim.org/scripts/script.php?script_id=2540</a>
<a href="https://github.com/garbas/vim-snipmate">https://github.com/garbas/vim-snipmate</a></p>

<h2 id="4-1-4-其他-snippets-pluging">4.1.4 其他 snippets Pluging</h2>

<p>比較
<a href="http://vim-wiki.mawercer.de/wiki/topic/text-snippets-skeletons-templates.html">http://vim-wiki.mawercer.de/wiki/topic/text-snippets-skeletons-templates.html</a></p>

<p>除了 snipMate以外，還有其他plugins有snippets的功能</p>

<p>UltiSnipsby HOLGER RAPP36216612
UltiSnips - The ultimate snippet solution for Vim. Send pull requests to SirVer/ultisnips!</p>

<p>neosnippet-snippetsby SHOUGO1972908
The standard snippets repository for neosnippet</p>

<p><a href="https://vimawesome.com/plugin/vim-snippets">vim-snippets</a>
* by HONZA POKORNY25449499
* vim-snipmate default snippets (Previously snipmate-snippets)
* 這個是 snippets程式片段檔的集合</p>

<h2 id="4-2-tag-list">4.2 Tag List</h2>

<p>產生程式中的所有關鍵字、函數名、…</p>

<p>Tag List的產生要用外部的程式，常見的有：</p>

<ul>
<li>Exuberant Ctags: For C, C++, Java, Perl, Python, Vim, Ruby (and 25 others)</li>
<li>Vtags: For Verilog files</li>
<li>Jtags: For Java files</li>
<li>Hdrtags: For C / C++, Asm, Lex / Yacc, LaTeX, Vim, and Maple</li>
<li>Ptags: For Perl files</li>
</ul>

<p>用法，可以快速跳到函數定義的地方。</p>

<p>###　4.2.1 Tag List 的其他用法</p>

<p>除了用來找函數、和變數外，還有其他用法。</p>

<p><code>:help tags</code></p>

<h2 id="4-3-autocomplete-自動補全">4.3 AutoComplete 自動補全</h2>

<p>分三種</p>

<ul>
<li>依前後文</li>
<li>依字典</li>
<li>Omnicompletion</li>
</ul>

<p>4.3.1 已知單詞的自動補全</p>

<p><code>C-p</code> <code>C-n</code> 在打完的前兩個字母後按，</p>

<p>會出現auto complete的選項，向前、或向後</p>

<h3 id="4-3-2-依字典的自動補全">4.3.2 依字典的自動補全</h3>

<p>利用已有的字典作 autocomplete</p>

<p>設定字典檔
<code>:set dictionary+=/path/to/dictionary/file/with/words</code></p>

<p><code>C-x C-k</code>
x是進入autocomplete模式， k是從字典中找相近的單字。</p>

<p>其他模式：</p>

<ul>
<li>Ctrl+l: Complete whole lines of the text</li>
<li>Ctrl+n: Complete words from the current buffer</li>
<li>Ctrl+k: Complete words from the dictionaries</li>
<li>Ctrl+t: Complete words from the thesaurus (see :help &lsquo;thesaurus&rsquo;)</li>
<li>Ctrl+i: Words from the current and included files</li>
<li>S: Spelling the suggestions (Vim 7.0 and newer only)</li>
</ul>

<h3 id="4-3-3-omnicompletion">4.3.3 Omnicompletion</h3>

<p><code>C-x C-o</code> 進入 Omnicompletion 模式</p>

<p>pass</p>

<h3 id="4-3-4-多合一-autocomplete">4.3.4  多合一 autocomplete</h3>

<p>把前面多種autocomplete模式整合
這個指令可以找到,<code>CleverTab()</code></p>

<p><code>help ins-complete</code></p>

<p>可以用 <code>Tab</code> 來選取需要的選項。</p>

<h2 id="4-4-錄製巨集-macros">4.4 錄製巨集 Macros</h2>

<p>用來錄製指令</p>

<ul>
<li>qa: Record from now on into register a. Any register can be used, but q is often used for simplicity.</li>
<li>q: If pressed while recording, the recording is ended.</li>
<li>@a: Executes the recording in register a (replace with any register).</li>
<li>@@: Repeats the last executed command.</li>
</ul>

<h2 id="4-5-會話-session">4.5 會話 Session</h2>

<p>Vim保存了許多資訊，分成幾種：</p>

<ul>
<li>View: 單一視窗的資訊</li>
<li>Session: 多個View的集合</li>
<li>Other: 其他通用的設定</li>
</ul>

<h3 id="4-5-1-簡單會話使用">4.5.1 簡單會話使用</h3>

<p>保存目前視圖、會話</p>

<pre><code class="language-vim">:mkview file
:mksession file

:set viewdir=$HOME/.vim/views  &quot; 設定視圖存放的目錄

&quot; 載入視圖方式
$vim -S Session.vim
:source Session.vim
:loadview View.vim

</code></pre>

<h3 id="4-5-2-個人化-session-使用">4.5.2 個人化 Session 使用</h3>

<p>pass</p>

<h3 id="4-5-3-sessions-as-a-project-manager">4.5.3 Sessions as a project manager</h3>

<p>pass</p>

<h2 id="4-6-暫存器-和-undo-分支">4.6 暫存器 和 Undo 分支</h2>

<ul>
<li>暫存器 Register: 儲存多個緩衝區的高級剪貼薄</li>
<li>Undo Branching: 文件修改的記錄</li>
</ul>

<h3 id="4-6-1-暫存器">4.6.1 暫存器</h3>

<h3 id="4-6-2-unod-list">4.6.2 Unod list</h3>

<h2 id="4-7-folding-折疉">4.7 Folding 折疉</h2>

<p>把段落、或是區塊 多行折疉成一行</p>

<h3 id="4-7-1-simple-text-file-outlining">4.7.1 Simple text file outlining</h3>

<h3 id="4-7-2-using-vimdiff-to-track-the-changes">4.7.2 Using vimdiff to track the changes</h3>

<h3 id="4-7-3-navigation-in-vimdiff">4.7.3 Navigation in vimdiff</h3>

<h3 id="4-7-4-using-diff-to-track-changes">4.7.4 Using diff to track changes</h3>

<h2 id="4-8-打開任意位置的文件">4.8 打開任意位置的文件</h2>

<p>打開遠端的文件</p>

<pre><code class="language-vim">:Nread ftp://user@server/path/to/file
:Nwrite server user passwd path/to/file

</code></pre>

<h3 id="4-8-1-faster-remote-file-editing">4.8.1 Faster remote file editing</h3>

<h2 id="4-9-小結">4.9 小結</h2>

<h1 id="ch5-advanced-formatting-進階格式化">Ch5: ADVANCED FORMATTING 進階格式化</h1>

<p>將文件重新排版的過程。</p>

<ul>
<li>文本格式化</li>
<li>代碼格式化</li>
<li>使用外部工具格式化</li>
</ul>

<h2 id="5-1-文本格式化">5.1 文本格式化</h2>

<h3 id="5-1-1-文本分段">5.1.1 文本分段</h3>

<p>例：將長行自動斷行</p>

<p><code>gpap</code></p>

<h3 id="5-1-2-內文對齊">5.1.2 內文對齊</h3>

<p>向左、 置中、向右對齊</p>

<h3 id="5-1-3-標記標題">5.1.3 標記標題</h3>

<p>在 Markdown、reST中，H1、H2的語法可以寫成：</p>

<pre><code class="language-markdown">Level1
====== 

Level2
------

### Level3
</code></pre>

<p>這邊利用接鍵組合，可以快速在文字下加上相同長度的 <code>=</code>，或<code>-</code></p>

<p>像在 <code>New Heading</code>上按 <code>yypVr=o</code></p>

<h3 id="5-1-4-建立清單">5.1.4 建立清單</h3>

<p>用函式快速加入 lists的格式</p>

<h2 id="5-2-代碼格式化">5.2 代碼格式化</h2>

<p>排版良好的程式碼，對方便閱讀很有幫助。</p>

<p>前面幾小節 介紹了縮排的幾個方式。</p>

<ul>
<li>Autoindent <code>:set ai</code> : 會依前一行的設定，縮排之後的文件</li>
<li>Smartindent <code>:set si</code> : smarter than autoindent</li>
<li>Cindent: pass</li>
<li>Indentexpr: pass</li>
</ul>

<p>要貼程式碼時，可以用下面的指令，讓貼上的程式碼排版不會跑掉。</p>

<pre><code class="language-vim">:set paste
:set nopaste
:set pastetoggle

</code></pre>

<h2 id="5-3-使用外部工具格式化">5.3 使用外部工具格式化</h2>

<p>使用 其他程式來排版，像是 Indent,Berkeley Par,Tidy</p>

<pre><code class="language-vim">&quot; 設定 indent
:set equalprg=program
</code></pre>

<p>Tidy 是用來排版 XML,HTML 文件的工具。</p>

<pre><code class="language-vim">&quot; XML 文件
au FileType xml exe &quot;:silent 1,$!tidy --input-xml true --indent yes -q&quot;
&quot; HTML 文件
au FileType html,htm exe &quot;:silent 1,$!tidy --indent yes -q&quot;
</code></pre>

<h2 id="5-4-小結">5.4 小結</h2>

<p>本章介紹了一些排版的方式</p>

<h1 id="ch6-basic-vim-scripting-基本-vim-scripting">Ch6: BASIC VIM SCRIPTING 基本 Vim Scripting</h1>

<p>Vim可以透過 VimScript使用許多功能，且容易分享，
而且還可以支援外部語言，如python,ruby,perl,lua&hellip;</p>

<h2 id="6-1-語法配色-syntax-color-scheme">6.1 語法配色 syntax-color scheme</h2>

<p>syntax-color scheme會將程式中的 關鍵字以不同的顏色表示，</p>

<p>不僅使程式易讀、而且可以容易發現打錯的字。</p>

<p>語法上色，先要找出關鍵字，然後設置對應的顏色，以下是例子：</p>

<pre><code class="language-vim">:syntax match myComments &quot;/\*.*\*/&quot;
:syntax keyword myVars x y
:syntax match mySymbols &quot;[{}();=]&quot;
:syntax keyword myKeywords if return
:highlight myVars ctermfg=red guifg=red
:highlight mySymbols ctermfg=blue guifg=blue
:highlight myKeywords ctermfg=green guifg=green
:highlight myComments ctermfg=yellow guifg=yellow
</code></pre>

<h2 id="6-2-區域高亮-syntax-regions">6.2 區域高亮 Syntax regions</h2>

<p>像是注釋之類的，一整個區塊要上色的，例子如下：</p>

<pre><code class="language-vim">:syntax region myComments start=/\/\*/ end=/\*\//
</code></pre>

<p>pass</p>

<h3 id="6-2-1-color-scheme-and-syntax-coloring">6.2.1 Color scheme and syntax coloring</h3>

<p>除了個別指定顏色外，也可以用配色方案中定義的顏色，
這樣的話，可以隨著 color scheme改變語法顏色。</p>

<h2 id="6-3-使用腳本-using-scripts">6.3 使用腳本 Using scripts</h2>

<p>除了自已開發功能外，也可以在網路上找別人寫好的plugin回來安裝</p>

<ul>
<li><a href="https://www.vim.org/scripts/index.php" title="Office Site for VimScript">Vim.org/Script</a></li>
<li><a href="https://github.com/vim-scripts">Github/vim-scripts</a></li>
<li><a href="https://vimawesome.com/" title="VimAwesome: Gether Vim Plugins">VimAwesome</a></li>
</ul>

<h3 id="6-3-1-script-types">6.3.1 Script types</h3>

<p>依腳本的功能，有：</p>

<ul>
<li>colorscheme, syntax, utility, ftplugin, game, indent, patch&hellip;</li>
</ul>

<h3 id="6-3-2-installing-scripts">6.3.2 Installing scripts</h3>

<p>安裝 VimScript 的方式，最基本的就是把 <code>.vim</code> 丟到 <code>$HOME/.vim/</code> 的目錄下，</p>

<p>不過，有些 plugins 檔案太多，於是目前就有一些比較方便的安裝管理方式：</p>

<ul>
<li><code>.vim</code>，或是壓縮檔：直接(解壓)放到 <code>$HOME/.vim/</code> 目錄下</li>
<li>Vimball格式: 是壓縮檔，安裝完 <a href="https://www.vim.org/scripts/script.php?script_id=1502" title="vim-based archiver: builds, extracts, and previews ">Vimball</a> 後， <code>$vim something.vba</code> <code>:so %</code> 安裝</li>
<li>Vim Plugin Manager: 專門管理plugins的程式，可以直接從 github 上安裝腳本

<ul>
<li><a href="https://github.com/tpope/vim-pathogen" title="pathogen.vim: manage your runtimepath">pathogen</a> : 主要是 runtime path manager</li>
<li><a href="https://github.com/VundleVim/Vundle.vim" title="Vundle, the plug-in manager for Vim">Vundle</a> : 滿多人用的，vimrc設定 github名字後，可以直接打 <code>:PluginInstall</code> 安裝</li>
<li><a href="https://github.com/junegunn/vim-plug" title="Minimalist Vim Plugin Manager">Vim-plug</a> : 多了on-demand loading ，應該可以加快vim開啟的速度</li>
<li><a href="https://ssarcandy.tw/2016/08/17/vim-plugin-manager/">談談 vim plugin-manager</a></li>
</ul></li>
</ul>

<h3 id="6-3-3-uninstalling-scripts">6.3.3 Uninstalling scripts</h3>

<p>移除的方式就直接和安裝方式相關，</p>

<p>通常是把 <code>.vim</code>下的檔案移除，再把 vimrc內的設定去掉。</p>

<h2 id="6-4-腳本開發-script-development">6.4 腳本開發 Script development</h2>

<p>寫自己想要的功能。</p>

<p>在開發腳本時，可能要注意各個Vim的版本，在各平台上可用的功具、函數可能也不用，
在寫腳本時，要注意，另外一些功能最好也保留可以讓用戶修改的功能，保留彈性。</p>

<h3 id="6-4-1-script-writing-basics">6.4.1 Script writing basics</h3>

<h4 id="types">Types</h4>

<p>VIM下只有字串、和數值</p>

<p><strong>數值</strong>包括：</p>

<ul>
<li>十進位數字: 1,2,3,&hellip;,100</li>
<li>十六進位: 0x01, 0x02,0x64</li>
<li>八進位: 01,02,03,&hellip;, 0144</li>
<li>浮點數 float: 3.1415</li>
</ul>

<p>例：</p>

<pre><code class="language-vim">:echo 10 + 0x10 + 010
</code></pre>

<p><strong>字串</strong></p>

<ul>
<li>用單、雙引號包起來的字符: <code>&quot; &quot; , ' '</code></li>
<li>\ 是 Escape character</li>
<li><code>\n</code> 是換行(new line)，<code>\r</code>是 Return ,<code>\t</code>是Tab, <code>\&lt;CR&gt;是 Return</code> 其他的符號 參照下面連結</li>
</ul>

<p><a href="https://en.wikipedia.org/wiki/Escape_sequences_in_C">C語言中的 Escape sequences</a></p>

<h4 id="變數-variables">變數 Variables</h4>

<ol>
<li>字串 String: 字符的集合</li>
<li>數值 Number: 前面所述的十、十六、八進位的數字</li>
<li>List: An ordered sequence of items (an ordered array)</li>
<li>字典 Dictionary: An unordered associative array holding key-value pairs</li>
<li>函數參照 Funcref: A reference to a function</li>
</ol>

<p>定義變數，都是用 <code>:let</code> 來賦值的</p>

<pre><code class="language-vim">:let myvar=somevalue

:let myvalue=100  &quot;數值
:let mystring=&quot;this is a test&quot; &quot; 字串
</code></pre>

<p>型值會自動轉換</p>

<pre><code class="language-vim">:let myvar='123'
echo myvar-23   &quot; 會顯示100
</code></pre>

<p>字串經過數值運算會轉成數字。另有，型值強制轉換函數 <code>string()</code></p>

<pre><code class="language-vim">:let myunber=mystring+0
:let mystring=string(mynumber)
</code></pre>

<p><strong>List</strong></p>

<p>list是一群變數的集合。
list[0]是第一個元素。</p>

<pre><code class="language-vim">:let mylistvar1 = [1, 2.7, 0x04, &quot;six&quot;, myvar, [1,2,3]]
</code></pre>

<p><strong>字典 Dictionary</strong></p>

<p>字典是 key-value pairs，鍵和鍵值的互相參照的序列。</p>

<pre><code class="language-vim">:let mydictvar2 =  {1: &quot;one&quot;,2: &quot;two&quot;,&quot;tens&quot;:{0: &quot;ten&quot;,1: &quot;eleven&quot;}}
</code></pre>

<p>key不一定是數值，也不需要照順序。</p>

<p><strong>函式</strong></p>

<pre><code class="language-vim">:let Myfunrefvar= function(&quot;Myfunction&quot;)
</code></pre>

<ul>
<li>變量 Myfunrefvar , 綁定到 函數 Myfunction</li>
<li>自定變數名以大寫開頭，跟vim內建的變數區別。</li>
</ul>

<pre><code class="language-vim">:echo  Myfunrefvar()
</code></pre>

<ul>
<li>使用函數時，函數名後加 ()</li>
</ul>

<p><strong>刪除函數</strong>
<code>delfunction function-name</code></p>

<p>函數中使用的變數的 <strong>變數可視範圍 Scope</strong>
變數前的字母，代表變數的作用區域。</p>

<p><a id="Scope">[Scope]</a></p>

<ul>
<li>v: Vim predefined global scope</li>
<li>g: Global scope</li>
<li>b: Buffer scope—only available in the buffer where it was defined</li>
<li>t: Tab scope—only available in the Vim tab where it was defined</li>
<li>w: Window scope—only available to the current Vim window (viewport)</li>
<li>l: Function scope—local to the function it is defined in</li>
<li>s: Sourced file scope—local to a Vim script loaded using :source</li>
<li>a: Argument scope—used in arguments for functions</li>
</ul>

<p>Vim中的注釋是以引號開始 \&rdquo;</p>

<pre><code class="language-vim">let g:sum=0
function SumNumbers(num1,num2)
    let l:sum = a:num1+a:num2
    &quot;check if previous sum was lower than this
    if g:sum &lt; l:sum
       let g:sum=l:sum
    endif
    return l:sum
endfunction
&quot; test code, this will print 7 (value of l:sum)
echo SumNumbers(3,4)
&quot; this should also print  7 (value of g:sum)
echo g:sum
</code></pre>

<p><strong>See Also</strong>:</p>

<ul>
<li><a href="http://learnvimscriptthehardway.stevelosh.com/chapters/25.html">LVtHW:Number</a></li>
<li><a href="http://learnvimscriptthehardway.stevelosh.com/chapters/26.html">LVtHW:String</a></li>
<li><a href="http://learnvimscriptthehardway.stevelosh.com/chapters/35.html">LVtHW:Lists</a></li>
<li><a href="http://learnvimscriptthehardway.stevelosh.com/chapters/37.html">LVtHW:Dictionary</a></li>
<li><a href="http://learnvimscriptthehardway.stevelosh.com/chapters/23.html">LVtHW:Function</a></li>
<li><a href="http://learnvimscriptthehardway.stevelosh.com/chapters/20.html">LVtHW:Variable_Scope</a></li>
</ul>

<h4 id="conditions">Conditions</h4>

<p>If條件式</p>

<pre><code class="language-vim">if condition1
    code-to-execute-if-condition1-is-true
else
    if condition2
      code-to-execute-if-condition2-is-true
    endif
endif
</code></pre>

<p><strong>See Also</strong>:</p>

<ul>
<li><code>:help if</code> 向下翻，還有 <code>while, for, try , catch, throw,final</code></li>
<li><a href="http://learnvimscriptthehardway.stevelosh.com/chapters/21.html">LVtWY:Conditional</a></li>
</ul>

<h4 id="working-with-lists-and-dictionaries">Working with lists and dictionaries</h4>

<p>List, Dic 的 <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete" title="Create, read, update and delete">CRUD</a></p>

<p>[CRUD」分別為 Create, Read, Update, Delete</p>

<p><strong>Create</strong></p>

<pre><code class="language-vim">:let mylist = [1,2,3,&quot;cat&quot;, myvar1]
:let mydicfruit = {'banana':'yellow','apple':'green','orange':'orange'}
</code></pre>

<p><strong>Read</strong></p>

<pre><code class="language-vim">:echo mylist[0],mylist[-1] &quot; 1  , cat (-1是最後的一個值)
:echo mydicfruit['banana'] &quot; yellow
&quot; 如果 key是[0-9][a-zA-Z][_]的話
:echo mydicfruit.banana  &quot; yellow
</code></pre>

<p><strong>Update</strong></p>

<pre><code class="language-vim">:let mylist[0]=99 &quot; 
:let mydicfruit['banana']='green' &quot; 
</code></pre>

<p><strong>Delete</strong></p>

<pre><code class="language-vim">&quot;用 unlet
:unlet mylist[0]
:unlet mydicfruit['banana'] 

&quot; remove()
:call remove(mylist,2)
</code></pre>

<p><strong>其他操作</strong></p>

<pre><code class="language-vim">:let mylist3 = mylist1 + mylist
:let mylist4 += [5,6,7,8]
&quot; extend() 會把兩個 list 相加
:call extend(mylist3,mylist4)
:echo myilst3 &quot; mylist3會變成 mylist3 + mylist4, mylist4 不變 
&quot; add() list4 加進 list3，變成 list3 的一個元素
:call add(mylist3,mylist4)
</code></pre>

<p><strong>See Also</strong>:</p>

<ul>
<li><code>:help Dictionary, List</code></li>
<li><code>:help get(), has_key(), items(), keys(), values()</code></li>
<li><code>:help add(), extend(), remove()</code></li>
</ul>

<h4 id="loops">Loops</h4>

<p><strong>For Loops</strong></p>

<pre><code class="language-vim">for item in mylist
   call remove(mylist, 0)
endfor
</code></pre>

<p><strong>While Loops</strong></p>

<pre><code class="language-vim">:let lnum = 1
:while lnum &lt;= line(&quot;$&quot;)
    :call FixLine(lnum)
    :let lnum = lnum + 1
:endwhile
</code></pre>

<p><strong>See Also</strong>:</p>

<ul>
<li><code>:help break</code> : 離開 loop</li>
<li><code>:help continue</code> : 開始下一個loop</li>
</ul>

<h4 id="creating-functions">Creating functions</h4>

<!---
Markdown沒有適合的語法，這邊用HTML的語法，注釋也是
-->

<dl>
  <dt>函數的定義</dt>
  <dd>
<pre>
function Name (arg1, arg2, ... argN) keyword
    code-to-excute-when-func-call
endfunction
</pre>
</dl>

<p><strong>keyword</strong></p>

<ul>
<li>dict: 把函數綁定到一個 dict</li>
<li>range: 函數的作用範圍</li>
<li>特別的變數: <code>a:000</code> 代表所有 argX的集合</li>
</ul>

<p><strong>Scope</strong>
通常函數是local的，可以在函數前加 <code>g:</code>以代表全域函數。
這邊參照</p>

<p><a href="#Scope">Scope變數值域</a></p>

<h4 id="variable-argument-list">Variable argument list</h4>

<ul>
<li>`:help a:000: 所以參數集合，是 List 型態</li>
<li><code>a:0</code>: 參數個數</li>
<li><code>a:1</code>: 第一個參數名字，其他以此類推 a:2, a:3&hellip;</li>
</ul>

<p><strong>See Also</strong>:
* <code>:help function-argument</code>
* <code>:help local-variables</code>
* <code>:help function-lsit</code></p>

<h1 id="6-5-小結-summary">6.5 小結 Summary</h1>

<p>VimScript 的安裝、移除，管理。</p>

<p>基本的資料型態、結構、操作。</p>

<h1 id="ch7-extended-vim-scripting-進階-vim-scripting">Ch7: EXTENDED VIM SCRIPTING 進階 Vim Scripting</h1>

<p>本章會介紹 Script的結構，技巧、如何除錯、使用其他外部語言。</p>

<h2 id="7-1-script-structure">7.1 Script structure</h2>

<h3 id="7-1-1-script-header">7.1.1 Script header</h3>

<p>腳本前最好加上一個檔頭，說明腳本的一些基本資料。
例：作者、日期、版本，以及 著作權授權聲明。</p>

<ul>
<li><a href="https://www.gnu.org/licenses/license-list.html">Open Source License</a></li>
<li><a href="https://creativecommons.org/licenses/?lang=zh_TW">CreativeCommons</a></li>
</ul>

<p>像是：</p>

<pre><code class="language-vim">&quot; myscript.vim  : Example script to show how a script is structured.
&quot; Version       : 1.0.5
&quot; Maintainer    : Who Who &lt;who@what.com&gt;
&quot; Last modified : 01/01/2007
&quot; License       : This script is released under the Vim License.
</code></pre>

<h3 id="7-1-2-script-loaded-check">7.1.2 Script-loaded check</h3>

<p>腳本在執行前，最好先檢查腳本是否正常載入，以免發生問題。</p>

<p>ex: 如果腳本載入不成功，會先把函數先缷載，
把loaded_myscript(是不是要載入腳本)設成true，</p>

<pre><code class="language-vim">if exists(&quot;loaded_myscript&quot;)
   delfunction MyglobalfunctionB
   delfunction MyglobalfunctionC
endif
let loaded_myscript=1
</code></pre>

<h3 id="7-1-3-script-configuration">7.1.3 Script configuration</h3>

<p>腳本的開頭可以放設定，如：顏色，路徑…
或是一些設定使用者已有原本的設定，
可以檢查是否已有原本的設定值，再決定要不要取代原本的設定。</p>

<h3 id="7-1-4-key-mappings">7.1.4 Key mappings</h3>

<p>修改按鍵設定，尋找是否有舊的設定，決定取代、或建立新的設定。</p>

<p>這邊有些新的代碼：</p>

<ul>
<li><code>hasmapto()</code>: 檢查是否有maping 對映到你的程式</li>
<li><code>&lt;unique&gt;</code>: 檢查 mapping是否唯一</li>
<li><code>&lt;Leader&gt;</code>: 前導符號，用來開始一些功能的快速鍵。<code>&lt;Leader&gt;</code> 會被 全域的 Leader 覆蓋</li>
<li><code>&lt;Plug&gt;</code>: 建立一個全域、唯一的Mapping。 這樣就不會和全域變數中的其他函數衝突</li>
</ul>

<p><strong>See Also</strong>:</p>

<ul>
<li><code>:help &lt;SID&gt;</code>: Script ID ?</li>
<li><code>:help &lt;Plug&gt;</code></li>
<li><code>:help</code>script-local`</li>
</ul>

<h3 id="7-1-5-functions">7.1.5 Functions</h3>

<p><code>s:MyfunctionA</code> : 前綴的 <code>s</code> 把函數的範圍限定在 script 內。</p>

<p>設定函數的正確的Scope，才不會發現意料之外的問題。</p>

<h3 id="7-1-6-putting-it-all-together">7.1.6 Putting it all together</h3>

<p>完整腳本的例子：</p>

<p>pass</p>

<p><strong>See Also</strong>:</p>

<ul>
<li><code>:help 'write-filetype-plugin'</code></li>
<li><code>:help 'write-compiler-plugin'</code></li>
<li><code>:help 'write-library-script'</code></li>
</ul>

<h2 id="7-2-scripting-tips">7.2 Scripting tips</h2>

<h3 id="7-2-1-gvim-or-vim">7.2.1 Gvim or Vim?</h3>

<p>Gvim 和 vim有不少不同的地方，如何知道目前執行的是哪一個版本？</p>

<pre><code class="language-vim">if has(&quot;gui_running&quot;)
    &quot;execute gui-only command here&quot;
endif
</code></pre>

<p><strong>See Also</strong>:</p>

<ul>
<li><code>:help 'feature-list</code></li>
</ul>

<h3 id="7-2-2-which-operating-system">7.2.2 Which operating system?</h3>

<p>作業系統間的不同：路徑、檔案存取權限、…</p>

<pre><code class="language-vim">if has(&quot;win16&quot;) || has(&quot;win32&quot;) || has(&quot;win64&quot;)|| has(&quot;win95&quot;)
   &quot; do windows things here
elseif has(&quot;unix&quot;)
   &quot; do linux/unix things here
</code></pre>

<p>說明文件內的例子：</p>

<ul>
<li>macunix                 Macintosh version of Vim, using Unix files (OS-X).</li>
<li>unix                    Unix version of Vim.</li>
<li>win32                   Win32 version of Vim (MS-Windows 95 and later, 32 or 64 bits)</li>
<li>win32unix               Win32 version of Vim, using Unix files (Cygwin)</li>
</ul>

<p><strong>See Also</strong>:</p>

<ul>
<li><code>:help 'feature-list</code></li>
</ul>

<h3 id="7-2-3-which-version-of-vim">7.2.3 Which version of Vim?</h3>

<dl>
<dt>Vim版本，ex: Vim 8.0.1626</dt>
<dd><p>主版號.副版號.補丁編號</p></dd>
</dl>

<pre><code class="language-vim">if v:version &gt;= 702 || v:version == 701 &amp;&amp; has(&quot;patch123&quot;)
   &quot; code here is only done for version 7.1 with patch 123 
   &quot; and version 7.2 and above
endif
</code></pre>

<p><code>:if has(&quot;patch-7.4.123&quot;)</code></p>

<h3 id="7-2-4-printing-longer-lines">7.2.4 Printing longer lines</h3>

<p>視窗的寬度不少可能超出 80，如果內容太長，
需要函數偵測、防止出錯。</p>

<h2 id="7-3-debugging-vim-scripts">7.3 Debugging Vim scripts</h2>

<p><code>-D</code> : 例如， <code>Vim -D something.txt</code>，可以印出除錯訊息</p>

<p><code>:debug</code> 用來除錯的命令。</p>

<p>基本上就是，設立中錯點、印出數值，除錯。</p>

<h2 id="7-4-distributing-vim-scripts">7.4 Distributing Vim scripts</h2>

<p>依之前的安裝多樣的方式，發布腳本的方向也很多樣。</p>

<h3 id="7-4-1-making-vimballs">7.4.1 Making Vimballs</h3>

<p>要確定有安裝 <a href="https://www.vim.org/scripts/script.php?script_id=1502" title="vim-based archiver: builds, extracts, and previews ">VimBall</a></p>

<p>制作Vimball 的命令是:</p>

<p><code>:[range]MkVimball filename.vba</code></p>

<p>中間填入需要檔案的路徑、其他設定後。</p>

<p><code>:MkVimball myscript.vba</code> 打包</p>

<h2 id="7-5-remember-the-documentation">7.5 Remember the documentation</h2>

<p>Vim說明文件的寫法。</p>

<p>腳本寫好了以後，好的說明文件也是很重要的一部分。</p>

<p>Vim的說明文件，基本上是普通的 text，加上一些記號</p>

<p><strong>First Line</strong>
<code>*myscript.txt* Documentation for example script myscript.vim</code></p>

<p>文件的第一行，開頭字符號一定要是 <code>\*</code> ，兩個<code>\*</code>中間是文件檔名， 後面是文件簡述</p>

<p>這邊用書上的例子：</p>

<pre><code class="language-vim">*myscript.txt* Documentation for example script myscript.vim

Script : myscript.vim - Example script for vim developers
Author : Kim Schulz
Email : &lt;kim@schulz.dk&gt;
Changed : 01/01/2007
=============================================================
                                            *myscript-intro*

1. Overview

This document gives a short introduction to the example
script myscript.vim.
This script is made as an example for vim users on how to
structure a simple vim plugin script such that it is easy
to read and figure out.
The following is covered in this document:

1. Overview         |myscript-intro|
2. Mappings         |myscript-mappings|
3. Functions        |myscript-functions|
4. Todo             |myscript-todo|

=============================================================
</code></pre>

<ul>
<li>首行是特別資訊</li>
<li>檔頭資訊</li>
<li><code>\*</code>myscript-intro<code>\*</code> 是連結目標，可以用 <code>:help 'myscript-intro'</code>跳到這</li>
<li><code>\|</code>myscript-intro<code>\|</code> 建立類似超連結功能，能快速跳到連結目標</li>
<li><code>\&gt;</code> Code here<code>\&lt;</code> 中間的是Code</li>
</ul>

<p>寫好文件後，執行：</p>

<pre><code class="language-vim">:helptags docdir
&quot; docdir 是指向你的文件  `PLUGIN/doc` 
</code></pre>

<p><strong>See Also</strong>:</p>

<ul>
<li><code>:help 'help-translated'</code></li>
</ul>

<h2 id="7-6-using-external-interpreters">7.6 Using external interpreters</h2>

<p>輸入 <code>:version</code> 和以看到目這的Vim技援的外部功能
像是這些，+lua,+perl,+python,+python3,+ruby,-tcl</p>

<p>或是輸入指令，是是否有支援。
<code>:echo has(&quot;perl&quot;)</code></p>

<h3 id="7-6-1-vim-scripting-in-perl">7.6.1 Vim scripting in Perl</h3>

<p>pass</p>

<h3 id="7-6-2-vim-scripting-in-python">7.6.2 Vim scripting in Python</h3>

<p>這邊只看一下比較熟的python。</p>

<p>單行</p>

<pre><code class="language-vim">:python3 print(&quot;This is  Python3&quot;)
</code></pre>

<p>多行</p>

<pre><code class="language-vim">:python3 &lt;&lt; *endpattern*
some statement here
and here
*endpattern*

&quot; endpattern : 像是 EOF
</code></pre>

<p>Vim 的的 <code>vim</code> 模組，可以讀取vim的資訊</p>

<pre><code class="language-vim">import vim
window = vim.current.window
window.height = 200
window.width = 10
window.cursor = (1,1)
</code></pre>

<p><strong>See Also</strong>:</p>

<p>下面的命令可以用來獲取所有的可用函数列表:
* <code>:help 'python-vim'</code></p>

<h3 id="7-6-3-vim-scripting-in-ruby">7.6.3 Vim scripting in Ruby</h3>

<p>pass</p>

<h2 id="7-7-小結-summary">7.7 小結 Summary</h2>

<p>pass</p>

<h1 id="appendix-a-vim的其他功能">Appendix A Vim的其他功能</h1>

<p>Vim game，發 mail,twitter,IRC&hellip;</p>

<p>或是 設定成 IDE</p>

<pre><code>:help compiler
:help quickfix
</code></pre>

<p>參考 <a href="http://vim.wikia.com/wiki/Use_Vim_like_an_IDE">http://vim.wikia.com/wiki/Use_Vim_like_an_IDE</a></p>

<h1 id="appendix-b-vimrc-設定">Appendix B Vimrc 設定</h1>

<p>Vimrc是 Vim 所有設定存放的檔案，隨著時間 Vimrc可能會變的越來越大，而以維護。</p>

<h2 id="b-1-保持-vimrc-簡潔的技巧">B.1 保持 Vimrc 簡潔的技巧</h2>

<ol>
<li><code>:set nocompatible</code>: 把vim設成不相容模式，能開啟比較多的功能。</li>
<li>使用注釋: 使用 <code>&quot;</code> 開頭的注釋，可以讓區段的功能容易了解修改</li>
<li>內容分段: 可以分成 全局、個人、腳本、其他 …有主題性的區段，方便修改。</li>
<li>使用多文件: 可以將部分的內容切出另一個檔案，在本檔內用 <code>source</code>讀進程式</li>
<li>測試時使用另一份vimrc</li>
<li>不同系統使用不定的設定: 像是 .vimrc.linux , _vimrc.win32 , _gvimrc.win32 , &hellip; etc.</li>
</ol>

<h2 id="b-2-vimrc的設定系統">B.2 Vimrc的設定系統</h2>

<p><a href="https://www.vim.org/scripts/script.php?script_id=1894">Vim Setup system : Vim Setup system - persistent setup directly in vim </a></p>

<p>這個plugin讓vim的設定，有選單的可以直接設定，設定完了，再存回 .vimrc</p>

<p>有GUI來設定，的確是方便了一些。</p>

<h2 id="b-3-vimrc雲端儲存">B.3 Vimrc雲端儲存</h2>

<p>把vim的設定放在網路上，可以方便在多台機器間轉移。</p>

<p>這邊是用 <code>netrw</code> 來讀寫網路上的設定檔。</p>

<h1 id="參考連結">參考連結</h1>

<ol>
<li><a href="https://www.packtpub.com/application-development/hacking-vim-72">Hacking Vim 7.2 by Kim Schulz April 2010</a></li>
<li><a href="https://github.com/wuzhouhui/hacking_vim">HackingVim72簡中</a></li>
<li><a href="http://vim.wikia.com/wiki/Vim_Tips_Wiki">Vim Tips Wiki</a></li>
</ol>

<p><strong>參考書藉</strong></p>

<ol>
<li><a href="http://learnvimscriptthehardway.stevelosh.com/" title="a book for users of the Vim editor who want to learn how to customize Vim.">Learn Vimscript the Hard Way</a></li>
<li><a href="http://learnvimscriptthehardway.onefloweroneworld.com/" title="Learn vimscript the hard way 簡中">Learn Vimscript the Hard Way_簡中</a></li>
<li><a href="https://vim.swaroopch.com/" title="help you to learn how to use the Vim editor (version 7)">A Byte of Vim</a></li>
<li><a href="http://vimskill.readthedocs.io/index.html" title="VimSkill 簡中文件">VimSkill</a></li>
</ol>
    </div>
    
      <article>
        <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "neromiller-github" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </article>
    
    <footer>
      <hr>
      <p>
  Published
  
    
      by <span itemprop="author">Nero</span>
    
  
  <time itemprop="datePublished" datetime="2018-03-24T01:00:23&#43;08:00">
    24 Mar, 2018
  </time>
  
    in <span itemprop="articleSection"><a href="/categories/technology/">Technology</a></span>
  
  
    and tagged <a href="/tags/reading/">reading</a> and <a href="/tags/vim/">vim</a>
  
  using <span itemprop="wordCount">2534</span> words.
</p>

      



    </footer>
  </article>
</main>
    <footer>
  
  <p class="muted">
    This page was generated using
    <a target="_blank" rel="noopener" href="https://comfusion.github.io/after-dark/">After Dark</a>
    for
    <a target="_blank" rel="noopener" href="https://gohugo.io/">Hugo</a>.
  </p>


</footer>
  </body>
</html>
